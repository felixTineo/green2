{"version":3,"file":"static/webpack/static/development/pages/perfil.js.d3d6ad9dae8b10144d02.hot-update.js","sources":["webpack:///./components/greenpost/wish.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ON_STORE } from '../../store/actions';\nimport './wish.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGift } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\n\nconst Wish = () => {\n  const wish = useSelector(state => state.user.greenPost.wish);\n  const user = useSelector(state => state.user);\n  const [tip, setTip] = useState(0);\n  const dispatch = useDispatch();\n  wish.found = 20;\n  const [found, setFound] = useState(wish.found);\n  const inputTip = useRef();\n\n  user.owner = true;\n  const onSubmit = async(e) => {\n    try{\n      e.preventDefault();\n      const data = {\n        tip,\n        targetId: user._id,\n      }\n        setFound(wish.found + parseInt(tip, 10));\n      //const res = await axios.post('/greenpost/tip', data);\n      //console.log(res.data);\n    }catch(err){\n      console.log(err);\n    }\n  }\n  return(\n    <div className=\"wish_main_cont animated fadeIn\">\n      {console.log(found)}\n      {\n        Object.keys(wish).length < 0 && (\n          <div className=\"nowish_main_cont\">\n            <button onClick={()=> dispatch({ type: ON_STORE })} disabled={!user.owner}>\n              <FontAwesomeIcon icon={faGift} />\n              {\n                user.owner\n                  ? <p>Elige un deseo, podria concederse muy pronto.</p>\n                  : <p>{user.name} aun no a elegido un deseo</p>\n              }\n            </button>\n          </div>\n        )\n      }\n      {\n        Object.keys(wish).length > 0 && (\n          <div className=\"wish_cont shadow\">\n            <img src={wish.img} alt=\"\"/>\n            {\n              wish.found === wish.price(\n                <form onSubmit={onSubmit}>\n                  <input value={tip} onChange={(e)=> setTip(e.currentTarget.value > wish.price - found ? wish.price - found : e.currentTarget.value)} type=\"number\" />\n                  <button type=\"submit\">enviar</button>\n                </form>                \n              )\n            }\n            <div className=\"wish_loader_cont\">\n              <div\n                className=\"wish_loader\"\n                style={{ width: `${(found * 100)/wish.price}%` }}\n              />\n            </div>\n            <footer>\n              <p>{wish.name}</p>\n              <p>${wish.price}</p>\n            </footer>\n          </div>\n        )\n      }\n    </div>\n  );\n}\n\nexport default Wish;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AANA;AAAA;AAAA;AACA;AAMA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAaA;AACA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAYA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAIA;AAAA;AAEA;AACA;AAAA;AAAA;AAFA;AAcA;AACA;AACA;;;;A","sourceRoot":""}