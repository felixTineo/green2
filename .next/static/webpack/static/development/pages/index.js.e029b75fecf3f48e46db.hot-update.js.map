{"version":3,"file":"static/webpack/static/development/pages/index.js.e029b75fecf3f48e46db.hot-update.js","sources":["webpack:///./pages/index.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useReducer } from 'react';\nimport Layout from '../components/main/layout';\nimport Hero from '../components/main/hero';\n//import GreenPost from '../components/main/greenpost';\n//import MainSection from '../components/main/main';\n//import Embajadores from '../components/main/embajador';\nimport uuid from 'uuid/v1';\n\nconst images = [\n  {\n    tag: 'bakery',\n    img: '/static/bakery.jpg',\n    msg: 'influye'\n  },\n  {\n    tag: 'market',\n    img: '/static/market.jpg',\n    msg: 'auspicia',\n  },\n  {\n    tag: 'drug',\n    img: '/static/drug.jpg',\n    msg: 'beneficiate'\n  }\n];\n\nconst Cont = ({ msg, img, index, ref, className }) => {\n  return(\n    <div style={{ animationTimingFunction: 'linear' }} ref={ref} className={`main animated slideInRight`}>\n        <h1>{msg}</h1>\n      <style jsx>{`\n        .main{\n          background: url(${img})top center no-repeat;\n          background-size: cover;\n          /*display: flex;\n          justify-content: center;\n          align-items: center;*/\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n        }\n        h1{\n          color: #fff;\n          font-size: 8rem;\n          text-transform: uppercase;\n        }\n      `}\n      </style>\n    </div>\n  )\n}\n\n\nconst Carousel = () => {\n  const [current, setCurrent] = useState(0);\n  const [visible, setVisible] = useReducer((state, next) => ({...state, ...next}), {\n    bakery: true,\n    market: false,\n    drug: false,\n  });\n  const bakeryRef = useRef(null);\n  const marketRef = useRef(null);\n  const drugRef = useRef(null);\n\n  useEffect(()=> {\n\n    const next = (current + 1) % images.length;\n    const id = setTimeout(()=> setCurrent(next), 5000);\n    setVisible({ [images[current].tag] : true });\n    if(current > 0) {\n      setTimeout(()=> setVisible({ [images[current - 1].tag] : false }), 1000);\n    } else {\n      setTimeout(()=> setVisible({ [images[2].tag] : false }), 1000);\n    }\n    return ()=> clearTimeout(id);\n  },[current])\n  const { bakery, market, drug } = visible;\n  return(\n    <div className=\"main\">\n      {console.log(images[current].tag, visible[images[current].tag])}\n      { bakery && <div className={current === 1 && 'slideOutLeft'}><Cont {...images[0]} /></div> }\n      { market && <div className={current === 2 && 'slideOutLeft'}><Cont {...images[1]} /></div> }\n      { drug && <div className={current === 0 && 'slideOutLeft'}><Cont {...images[2]} /></div> }\n      <style jsx>{`\n        .main{\n          height: 50vh;\n          overflow: hidden;\n          display: flex;\n          position: relative;\n        }\n      `}\n      </style>\n    </div>\n  )\n}\n\nconst Main = () => {\n\n  return(\n    <Layout>\n      <Hero />\n      <Carousel />\n    </Layout>\n  )\n}\n\nexport default Main;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAwBA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAAA;AACA;AACA;AACA;AAHA;AAFA;AAAA;AACA;AAMA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAtBA;AAAA;AAAA;AAwBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAAA;AAAA;AAgBA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;A","sourceRoot":""}