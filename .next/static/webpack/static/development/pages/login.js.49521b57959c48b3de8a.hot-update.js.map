{"version":3,"file":"static/webpack/static/development/pages/login.js.49521b57959c48b3de8a.hot-update.js","sources":["webpack:///./components/layout/header.jsx"],"sourcesContent":["import React, { useEffect, useCallback, useState } from 'react';\nimport Logo from './logo';\nimport './header.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch, faGift, faHeart, faUser, faCog, faCoins, faBell } from '@fortawesome/free-solid-svg-icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { navView, ON_VIEW_NAV, ON_LOADER } from '../../store/actions';\nimport axios from 'axios';\nimport Link from 'next/link';\nimport { Popover, PopoverBody } from 'reactstrap';\nimport uuid from 'uuid/v1';\n\nconst DownBar = () => {\n  const [down, setDown] = useState(false);\n\n  useEffect(()=> {\n    window.onscroll = () => {\n      if(window.scrollY > 30){\n        setDown(true);\n      } else {\n        setDown(false);\n      }\n    }\n  }, []);\n  console.log(down);\n  return <div className=\"down_bar\" style={{ height: down ? 40 : 0 }} />\n};\n\nconst SearchBar = () => {\n  const testList = [\"felix\", \"luis\", \"maximiliano\", \"francisco\", 'teresa', 'yleana'];\n  const [suggest, setSuggest] = useState([]);\n\n  const onSuggest = (e) => {\n    const value = e.target.value;\n    if(value){\n      value.toLocaleLowerCase();\n      const suggest = testList.filter(name => name.toLocaleLowerCase().indexOf(value) > -1);\n      setSuggest(suggest);\n    } else{\n      setSuggest([]);\n    }\n  }\n\n  return(\n    <div className=\"searchbar_main_cont\">\n      <div className=\"search_cont\">\n        <input onChange={onSuggest} type=\"text\"/>\n        <p><FontAwesomeIcon icon={faSearch} /></p>\n      </div>\n      <ul style={{ padding: suggest.length > 0 ? '.2rem' : '0' }} className=\"sugesstlist\">\n        {\n          suggest.map(item => <li>{item}</li>)\n        }\n      </ul>\n    </div>\n  )\n};\n\nconst Login = () => {\n  const [mail, setMail] = useState('');\n  const [pass, setPass] = useState('');\n\n  const onSubmit = async () => {\n    try{\n      const data = { mail, pass };\n      const res = await axios.post('/user/login', data);\n      console.log(res.data);\n    }catch(err){\n      console.log(err);\n    }\n  }\n\n  return(\n    <div className=\"navlogin_main_cont\">\n      <form onSubmit={onSubmit}>\n        <label htmlFor=\"mail\">usuario:<input id=\"mail\" name=\"mail\" value={mail} onChange={(e)=> setMail(e.currentTarget.value)} type=\"text\"/></label>\n        <label htmlFor=\"pass\">contrase√±a:<input id=\"pass\" name=\"pass\" value={pass} onChange={(e)=> setPass(e.currentTarget.value)} type=\"password\"/></label>\n        <button className=\"btn_login\" type=\"submit\">login</button>\n      </form>\n    </div>\n  )\n}\n\nconst Gift = () => {\n  const gifts = useSelector(state => state.nav.notifications.gifts);\n  const dispatch = useDispatch();\n  const onView = useCallback(()=> {\n    dispatch({ type: ON_VIEW_NAV, note: navView.GIFT });\n  })\n\n  return(\n    <div className=\"btnicon_cont\">\n      <button\n        id=\"gift\"\n        onClick={onView}\n        style={\n          gifts.view && gifts.length > 0 \n            ? { background: \"#fff\", color: \"#ff6c1a\" }\n            : { background: \"transparent\", color: \"#fff\" }\n        } \n        className=\"btnicon_nav\"\n      >\n        <FontAwesomeIcon icon={faGift} />\n      </button>\n      <span\n        style={\n          gifts.view && gifts.length > 0 \n          ? { color: \"#ff6c1a\" }\n          : { color: \"#fff\" }\n        }\n      >\n        +{gifts.items.length}\n      </span>\n    </div>\n  );\n}\n\nconst Note = () => {\n  const notes = useSelector(state => state.nav.notifications.notes);\n  const dispatch = useDispatch();\n  const onView = useCallback(()=> {\n    dispatch({ type: ON_VIEW_NAV, note: navView.NOTES });\n  });\n  const [pop, setPop] = useState(false);\n  const handleView = () => {\n    onView();\n    setPop(!pop);\n  };\n  const handleViewOut = () =>{\n    setPop(false)\n  }\n\n  return(\n    <div className=\"btnicon_cont\">\n      <button\n        id=\"note\"\n        onClick={handleView}\n        style={\n          notes.view && notes.length > 0 \n            ? { background: \"#fff\", color: \"#ff6c1a\" }\n            : { background: \"transparent\", color: \"#fff\" }\n        }\n        className=\"btnicon_nav\"\n      >\n        <FontAwesomeIcon icon={faBell} />\n      </button>\n      <span\n        style={\n          notes.view && notes.length > 0 \n          ? { color: \"#ff6c1a\" }\n          : { color: \"#fff\" }\n        }\n      >\n        +{notes.items.length}\n      </span>\n      <Popover target=\"note\" isOpen={pop} placement=\"bottom\">\n          <PopoverBody>\n            <ul onClick={handleViewOut}>\n              {\n                notes.items.map(item => (\n                  <li key={uuid()}>\n                    {item.id}\n                  </li>\n                ))\n                }\n            </ul>\n          </PopoverBody>\n        </Popover>\n    </div>\n  )\n}\n\nconst Friend = () => {\n  const friend = useSelector(state => state.nav.notifications.friendReq);\n  const dispatch = useDispatch();\n  const onView = useCallback(()=> {\n    dispatch({ type: ON_VIEW_NAV, note: navView.FRIEND });\n  });\n\n  const [pop, setPop] = useState(false);\n  const handleView = () => {\n    onView();\n    setPop(!pop);\n  }\n\n  const handleViewOut = () =>{\n    setPop(false)\n  }\n\n  return(\n    <div className=\"btnicon_cont\">\n      <button\n        id=\"friend\"\n        onClick={handleView}\n        style={\n          friend.view && friend.length > 0 \n            ? { background: \"#fff\", color: \"#ff6c1a\" }\n            : { background: \"transparent\", color: \"#fff\" }\n        }      \n        className=\"btnicon_nav\"\n      >\n        <FontAwesomeIcon icon={faUser} />\n      </button>\n      <span\n        style={\n          friend.view && friend.length > 0 \n          ? { color: \"#ff6c1a\" }\n          : { color: \"#fff\" }\n        }\n      >\n        +{friend.items.length}\n      </span>\n      <Popover target=\"friend\" isOpen={pop} placement=\"bottom\">\n          <PopoverBody>\n            <ul onMouseLeave={handleViewOut}>\n              {\n                friend.items.map(item => (\n                  <li key={uuid()}>\n                    {item.id}\n                  </li>\n                ))\n                }\n            </ul>\n          </PopoverBody>\n        </Popover>      \n    </div>\n  )\n}\n\nconst Option = () => {\n  const [pop, setPop] = useState(false);\n\n  return(\n    <div className=\"btnicon_cont\">\n      <button id=\"option\" onClick={()=> setPop(!pop)} className=\"btnicon_nav\">\n        <FontAwesomeIcon icon={faCog} />\n      </button>\n      <Popover target=\"option\" isOpen={pop} placement=\"bottom\">\n        <PopoverBody style={{ padding:0 }}>\n          <ul className=\"option_list\" onMouseLeave={()=> setPop(false)}>\n            <li><button>perfil</button></li>\n            <li><button>salir</button></li>\n          </ul>\n        </PopoverBody>\n      </Popover>\n    </div>\n  )\n}\n\nconst Wallet = () => {\n  const wallet = useSelector(state => state.nav.wallet);\n\n  return (\n  <div className=\"btnicon_cont\">\n    <p className=\"wallet_cont\"><FontAwesomeIcon icon={faCoins} /></p>\n    <span style={{ fontSize: 16 }}>+{wallet}</span>\n  </div>\n  )\n}\n\nconst Notifications = () => {\n\n  return(\n    <ul className=\"notifications_main_cont\">\n      <li><Gift /></li>\n      <li><Note /></li>\n      <li><Friend /></li>\n      <li><Option /></li>\n      <li><Wallet /></li>\n    </ul>\n  );\n}\n\nconst BarLoader = () => {\n  const loader = useSelector(state => state.nav.loader);\n  const dispatch = useDispatch();\n  const onLoader = useCallback((loader)=> dispatch({ type: ON_LOADER, loader }));\n\n  return <div className=\"barloader\" style={{ width: `${loader}%` }} />\n}\n\n\nconst Header = () => {\n  const nav = useSelector(state => state.nav);\n  const [width, setWidth] = useState(0);\n\n  useEffect(()=> {\n    setWidth(window.innerWidth);\n  },[]);\n  \n  return(\n    <header className=\"header_main_cont\">\n        <BarLoader />\n        <nav>\n        <DownBar />\n        <div className=\"logo_search\">\n          <Logo url='/' />\n          { nav.login && width > 992 && <SearchBar /> }\n        </div>\n        { !nav.login && <Link href=\"/login\"><button className=\"btn_login\">login</button></Link> }\n        { nav.login && <Notifications /> }\n        </nav>\n        { width < 576 && <SearchBar /> }\n    </header>\n  )\n};\n\nexport default Header;"],"mappings":"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","sourceRoot":""}