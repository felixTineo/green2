{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useCallback, useState } from 'react';\nimport Logo from './logo';\nimport './header.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch, faGift, faHeart, faUser, faCog, faCoins, faBell } from '@fortawesome/free-solid-svg-icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { navView, ON_VIEW_NAV, ON_LOADER } from '../../store/actions';\nimport axios from 'axios';\nimport Link from 'next/link';\nimport { Popover, PopoverBody } from 'reactstrap';\nimport uuid from 'uuid/v1';\n\nvar DownBar = function DownBar() {\n  var _useState = useState(false),\n      down = _useState[0],\n      setDown = _useState[1];\n\n  useEffect(function () {\n    window.onscroll = function () {\n      if (window.scrollY > 30) {\n        setDown(true);\n      } else {\n        setDown(false);\n      }\n    };\n  }, []);\n  console.log(down);\n  return __jsx(\"div\", {\n    className: \"down_bar\",\n    style: {\n      height: down ? 40 : 0\n    }\n  });\n};\n\nvar SearchBar = function SearchBar() {\n  var testList = [\"felix\", \"luis\", \"maximiliano\", \"francisco\", 'teresa', 'yleana'];\n\n  var _useState2 = useState([]),\n      suggest = _useState2[0],\n      setSuggest = _useState2[1];\n\n  var onSuggest = function onSuggest(e) {\n    var value = e.target.value;\n\n    if (value) {\n      value.toLocaleLowerCase();\n\n      var _suggest = testList.filter(function (name) {\n        return name.toLocaleLowerCase().indexOf(value) > -1;\n      });\n\n      setSuggest(_suggest);\n    } else {\n      setSuggest([]);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"searchbar_main_cont\"\n  }, __jsx(\"div\", {\n    className: \"search_cont\"\n  }, __jsx(\"input\", {\n    onChange: onSuggest,\n    type: \"text\"\n  }), __jsx(\"p\", null, __jsx(FontAwesomeIcon, {\n    icon: faSearch\n  }))), __jsx(\"ul\", {\n    style: {\n      padding: suggest.length > 0 ? '.2rem' : '0'\n    },\n    className: \"sugesstlist\"\n  }, suggest.map(function (item) {\n    return __jsx(\"li\", null, item);\n  })));\n};\n\nvar Login = function Login() {\n  var _useState3 = useState(''),\n      mail = _useState3[0],\n      setMail = _useState3[1];\n\n  var _useState4 = useState(''),\n      pass = _useState4[0],\n      setPass = _useState4[1];\n\n  var onSubmit =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var data, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              data = {\n                mail: mail,\n                pass: pass\n              };\n              _context.next = 4;\n              return axios.post('/user/login', data);\n\n            case 4:\n              res = _context.sent;\n              console.log(res.data);\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function onSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: \"navlogin_main_cont\"\n  }, __jsx(\"form\", {\n    onSubmit: onSubmit\n  }, __jsx(\"label\", {\n    htmlFor: \"mail\"\n  }, \"usuario:\", __jsx(\"input\", {\n    id: \"mail\",\n    name: \"mail\",\n    value: mail,\n    onChange: function onChange(e) {\n      return setMail(e.currentTarget.value);\n    },\n    type: \"text\"\n  })), __jsx(\"label\", {\n    htmlFor: \"pass\"\n  }, \"contrase\\xF1a:\", __jsx(\"input\", {\n    id: \"pass\",\n    name: \"pass\",\n    value: pass,\n    onChange: function onChange(e) {\n      return setPass(e.currentTarget.value);\n    },\n    type: \"password\"\n  })), __jsx(\"button\", {\n    className: \"btn_login\",\n    type: \"submit\"\n  }, \"login\")));\n};\n\nvar Gift = function Gift() {\n  var gifts = useSelector(function (state) {\n    return state.nav.notifications.gifts;\n  });\n  var dispatch = useDispatch();\n  var onView = useCallback(function () {\n    dispatch({\n      type: ON_VIEW_NAV,\n      note: navView.GIFT\n    });\n  });\n  return __jsx(\"div\", {\n    className: \"btnicon_cont\"\n  }, __jsx(\"button\", {\n    id: \"gift\",\n    onClick: onView,\n    style: gifts.view && gifts.length > 0 ? {\n      background: \"#fff\",\n      color: \"#ff6c1a\"\n    } : {\n      background: \"transparent\",\n      color: \"#fff\"\n    },\n    className: \"btnicon_nav\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faGift\n  })), __jsx(\"span\", {\n    style: gifts.view && gifts.length > 0 ? {\n      color: \"#ff6c1a\"\n    } : {\n      color: \"#fff\"\n    }\n  }, \"+\", gifts.items.length));\n};\n\nvar Note = function Note() {\n  var notes = useSelector(function (state) {\n    return state.nav.notifications.notes;\n  });\n  var dispatch = useDispatch();\n  var onView = useCallback(function () {\n    dispatch({\n      type: ON_VIEW_NAV,\n      note: navView.NOTES\n    });\n  });\n\n  var _useState5 = useState(false),\n      pop = _useState5[0],\n      setPop = _useState5[1];\n\n  var handleView = function handleView() {\n    onView();\n    setPop(!pop);\n  };\n\n  var handleViewOut = function handleViewOut() {\n    setPop(false);\n  };\n\n  return __jsx(\"div\", {\n    className: \"btnicon_cont\"\n  }, __jsx(\"button\", {\n    id: \"note\",\n    onClick: handleView,\n    style: notes.view && notes.length > 0 ? {\n      background: \"#fff\",\n      color: \"#ff6c1a\"\n    } : {\n      background: \"transparent\",\n      color: \"#fff\"\n    },\n    className: \"btnicon_nav\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faBell\n  })), __jsx(\"span\", {\n    style: notes.view && notes.length > 0 ? {\n      color: \"#ff6c1a\"\n    } : {\n      color: \"#fff\"\n    }\n  }, \"+\", notes.items.length), __jsx(Popover, {\n    target: \"note\",\n    isOpen: pop,\n    placement: \"bottom\"\n  }, __jsx(PopoverBody, null, __jsx(\"ul\", {\n    onClick: handleViewOut\n  }, notes.items.map(function (item) {\n    return __jsx(\"li\", {\n      key: uuid()\n    }, item.id);\n  })))));\n};\n\nvar Friend = function Friend() {\n  var friend = useSelector(function (state) {\n    return state.nav.notifications.friendReq;\n  });\n  var dispatch = useDispatch();\n  var onView = useCallback(function () {\n    dispatch({\n      type: ON_VIEW_NAV,\n      note: navView.FRIEND\n    });\n  });\n\n  var _useState6 = useState(false),\n      pop = _useState6[0],\n      setPop = _useState6[1];\n\n  var handleView = function handleView() {\n    onView();\n    setPop(!pop);\n  };\n\n  var handleViewOut = function handleViewOut() {\n    setPop(false);\n  };\n\n  return __jsx(\"div\", {\n    className: \"btnicon_cont\"\n  }, __jsx(\"button\", {\n    id: \"friend\",\n    onClick: handleView,\n    style: friend.view && friend.length > 0 ? {\n      background: \"#fff\",\n      color: \"#ff6c1a\"\n    } : {\n      background: \"transparent\",\n      color: \"#fff\"\n    },\n    className: \"btnicon_nav\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faUser\n  })), __jsx(\"span\", {\n    style: friend.view && friend.length > 0 ? {\n      color: \"#ff6c1a\"\n    } : {\n      color: \"#fff\"\n    }\n  }, \"+\", friend.items.length), __jsx(Popover, {\n    target: \"friend\",\n    isOpen: pop,\n    placement: \"bottom\"\n  }, __jsx(PopoverBody, null, __jsx(\"ul\", {\n    onMouseLeave: handleViewOut\n  }, friend.items.map(function (item) {\n    return __jsx(\"li\", {\n      key: uuid()\n    }, item.id);\n  })))));\n};\n\nvar Option = function Option() {\n  var _useState7 = useState(false),\n      pop = _useState7[0],\n      setPop = _useState7[1];\n\n  return __jsx(\"div\", {\n    className: \"btnicon_cont\"\n  }, __jsx(\"button\", {\n    id: \"option\",\n    onClick: function onClick() {\n      return setPop(!pop);\n    },\n    className: \"btnicon_nav\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faCog\n  })), __jsx(Popover, {\n    target: \"option\",\n    isOpen: pop,\n    placement: \"bottom\"\n  }, __jsx(PopoverBody, {\n    style: {\n      padding: 0\n    }\n  }, __jsx(\"ul\", {\n    className: \"option_list\",\n    onMouseLeave: function onMouseLeave() {\n      return setPop(false);\n    }\n  }, __jsx(\"li\", null, __jsx(\"button\", null, \"perfil\")), __jsx(\"li\", null, __jsx(\"button\", null, \"salir\"))))));\n};\n\nvar Wallet = function Wallet() {\n  var wallet = useSelector(function (state) {\n    return state.nav.wallet;\n  });\n  return __jsx(\"div\", {\n    className: \"btnicon_cont\"\n  }, __jsx(\"p\", {\n    className: \"wallet_cont\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faCoins\n  })), __jsx(\"span\", {\n    style: {\n      fontSize: 16\n    }\n  }, \"+\", wallet));\n};\n\nvar Notifications = function Notifications() {\n  return __jsx(\"ul\", {\n    className: \"notifications_main_cont\"\n  }, __jsx(\"li\", null, __jsx(Gift, null)), __jsx(\"li\", null, __jsx(Note, null)), __jsx(\"li\", null, __jsx(Friend, null)), __jsx(\"li\", null, __jsx(Option, null)), __jsx(\"li\", null, __jsx(Wallet, null)));\n};\n\nvar BarLoader = function BarLoader() {\n  var loader = useSelector(function (state) {\n    return state.nav.loader;\n  });\n  var dispatch = useDispatch();\n  var onLoader = useCallback(function (loader) {\n    return dispatch({\n      type: ON_LOADER,\n      loader: loader\n    });\n  });\n  return __jsx(\"div\", {\n    className: \"barloader\",\n    style: {\n      width: loader\n    }\n  });\n};\n\nvar Header = function Header() {\n  var nav = useSelector(function (state) {\n    return state.nav;\n  });\n\n  var _useState8 = useState(0),\n      width = _useState8[0],\n      setWidth = _useState8[1];\n\n  useEffect(function () {\n    setWidth(window.innerWidth);\n  }, []);\n  return __jsx(\"header\", {\n    className: \"header_main_cont\"\n  }, __jsx(BarLoader, null), __jsx(\"nav\", null, __jsx(DownBar, null), __jsx(\"div\", {\n    className: \"logo_search\"\n  }, __jsx(Logo, {\n    url: \"/\"\n  }), nav.login && width > 992 && __jsx(SearchBar, null)), !nav.login && __jsx(Link, {\n    href: \"/login\"\n  }, __jsx(\"button\", {\n    className: \"btn_login\"\n  }, \"login\")), nav.login && __jsx(Notifications, null)), width < 576 && __jsx(SearchBar, null));\n};\n\nexport default Header;","map":{"version":3,"sources":["/home/felix/Documentos/projects/greenlink/components/layout/header.jsx"],"names":["React","useEffect","useCallback","useState","Logo","FontAwesomeIcon","faSearch","faGift","faHeart","faUser","faCog","faCoins","faBell","useSelector","useDispatch","navView","ON_VIEW_NAV","ON_LOADER","axios","Link","Popover","PopoverBody","uuid","DownBar","down","setDown","window","onscroll","scrollY","console","log","height","SearchBar","testList","suggest","setSuggest","onSuggest","e","value","target","toLocaleLowerCase","filter","name","indexOf","padding","length","map","item","Login","mail","setMail","pass","setPass","onSubmit","data","post","res","currentTarget","Gift","gifts","state","nav","notifications","dispatch","onView","type","note","GIFT","view","background","color","items","Note","notes","NOTES","pop","setPop","handleView","handleViewOut","id","Friend","friend","friendReq","FRIEND","Option","Wallet","wallet","fontSize","Notifications","BarLoader","loader","onLoader","width","Header","setWidth","innerWidth","login"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,WAA3B,EAAwCC,QAAxC,QAAwD,OAAxD;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAO,eAAP;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,QAAT,EAAmBC,MAAnB,EAA2BC,OAA3B,EAAoCC,MAApC,EAA4CC,KAA5C,EAAmDC,OAAnD,EAA4DC,MAA5D,QAA0E,mCAA1E;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,EAAkBC,WAAlB,EAA+BC,SAA/B,QAAgD,qBAAhD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAqC,YAArC;AACA,OAAOC,IAAP,MAAiB,SAAjB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAAA,kBACIpB,QAAQ,CAAC,KAAD,CADZ;AAAA,MACbqB,IADa;AAAA,MACPC,OADO;;AAGpBxB,EAAAA,SAAS,CAAC,YAAK;AACbyB,IAAAA,MAAM,CAACC,QAAP,GAAkB,YAAM;AACtB,UAAGD,MAAM,CAACE,OAAP,GAAiB,EAApB,EAAuB;AACrBH,QAAAA,OAAO,CAAC,IAAD,CAAP;AACD,OAFD,MAEO;AACLA,QAAAA,OAAO,CAAC,KAAD,CAAP;AACD;AACF,KAND;AAOD,GARQ,EAQN,EARM,CAAT;AASAI,EAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AACA,SAAO;AAAK,IAAA,SAAS,EAAC,UAAf;AAA0B,IAAA,KAAK,EAAE;AAAEO,MAAAA,MAAM,EAAEP,IAAI,GAAG,EAAH,GAAQ;AAAtB;AAAjC,IAAP;AACD,CAdD;;AAgBA,IAAMQ,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,MAAMC,QAAQ,GAAG,CAAC,OAAD,EAAU,MAAV,EAAkB,aAAlB,EAAiC,WAAjC,EAA8C,QAA9C,EAAwD,QAAxD,CAAjB;;AADsB,mBAEQ9B,QAAQ,CAAC,EAAD,CAFhB;AAAA,MAEf+B,OAFe;AAAA,MAENC,UAFM;;AAItB,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,CAAD,EAAO;AACvB,QAAMC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASD,KAAvB;;AACA,QAAGA,KAAH,EAAS;AACPA,MAAAA,KAAK,CAACE,iBAAN;;AACA,UAAMN,QAAO,GAAGD,QAAQ,CAACQ,MAAT,CAAgB,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACF,iBAAL,GAAyBG,OAAzB,CAAiCL,KAAjC,IAA0C,CAAC,CAA/C;AAAA,OAApB,CAAhB;;AACAH,MAAAA,UAAU,CAACD,QAAD,CAAV;AACD,KAJD,MAIM;AACJC,MAAAA,UAAU,CAAC,EAAD,CAAV;AACD;AACF,GATD;;AAWA,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAO,IAAA,QAAQ,EAAEC,SAAjB;AAA4B,IAAA,IAAI,EAAC;AAAjC,IADF,EAEE,iBAAG,MAAC,eAAD;AAAiB,IAAA,IAAI,EAAE9B;AAAvB,IAAH,CAFF,CADF,EAKE;AAAI,IAAA,KAAK,EAAE;AAAEsC,MAAAA,OAAO,EAAEV,OAAO,CAACW,MAAR,GAAiB,CAAjB,GAAqB,OAArB,GAA+B;AAA1C,KAAX;AAA4D,IAAA,SAAS,EAAC;AAAtE,KAEIX,OAAO,CAACY,GAAR,CAAY,UAAAC,IAAI;AAAA,WAAI,kBAAKA,IAAL,CAAJ;AAAA,GAAhB,CAFJ,CALF,CADF;AAaD,CA5BD;;AA8BA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAAA,mBACM7C,QAAQ,CAAC,EAAD,CADd;AAAA,MACX8C,IADW;AAAA,MACLC,OADK;;AAAA,mBAEM/C,QAAQ,CAAC,EAAD,CAFd;AAAA,MAEXgD,IAFW;AAAA,MAELC,OAFK;;AAIlB,MAAMC,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEPC,cAAAA,IAFO,GAEA;AAAEL,gBAAAA,IAAI,EAAJA,IAAF;AAAQE,gBAAAA,IAAI,EAAJA;AAAR,eAFA;AAAA;AAAA,qBAGKjC,KAAK,CAACqC,IAAN,CAAW,aAAX,EAA0BD,IAA1B,CAHL;;AAAA;AAGPE,cAAAA,GAHO;AAIb3B,cAAAA,OAAO,CAACC,GAAR,CAAY0B,GAAG,CAACF,IAAhB;AAJa;AAAA;;AAAA;AAAA;AAAA;AAMbzB,cAAAA,OAAO,CAACC,GAAR;;AANa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARuB,QAAQ;AAAA;AAAA;AAAA,KAAd;;AAUA,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAM,IAAA,QAAQ,EAAEA;AAAhB,KACE;AAAO,IAAA,OAAO,EAAC;AAAf,iBAA8B;AAAO,IAAA,EAAE,EAAC,MAAV;AAAiB,IAAA,IAAI,EAAC,MAAtB;AAA6B,IAAA,KAAK,EAAEJ,IAApC;AAA0C,IAAA,QAAQ,EAAE,kBAACZ,CAAD;AAAA,aAAMa,OAAO,CAACb,CAAC,CAACoB,aAAF,CAAgBnB,KAAjB,CAAb;AAAA,KAApD;AAA0F,IAAA,IAAI,EAAC;AAA/F,IAA9B,CADF,EAEE;AAAO,IAAA,OAAO,EAAC;AAAf,uBAAiC;AAAO,IAAA,EAAE,EAAC,MAAV;AAAiB,IAAA,IAAI,EAAC,MAAtB;AAA6B,IAAA,KAAK,EAAEa,IAApC;AAA0C,IAAA,QAAQ,EAAE,kBAACd,CAAD;AAAA,aAAMe,OAAO,CAACf,CAAC,CAACoB,aAAF,CAAgBnB,KAAjB,CAAb;AAAA,KAApD;AAA0F,IAAA,IAAI,EAAC;AAA/F,IAAjC,CAFF,EAGE;AAAQ,IAAA,SAAS,EAAC,WAAlB;AAA8B,IAAA,IAAI,EAAC;AAAnC,aAHF,CADF,CADF;AASD,CAvBD;;AAyBA,IAAMoB,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjB,MAAMC,KAAK,GAAG9C,WAAW,CAAC,UAAA+C,KAAK;AAAA,WAAIA,KAAK,CAACC,GAAN,CAAUC,aAAV,CAAwBH,KAA5B;AAAA,GAAN,CAAzB;AACA,MAAMI,QAAQ,GAAGjD,WAAW,EAA5B;AACA,MAAMkD,MAAM,GAAG9D,WAAW,CAAC,YAAK;AAC9B6D,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAEjD,WAAR;AAAqBkD,MAAAA,IAAI,EAAEnD,OAAO,CAACoD;AAAnC,KAAD,CAAR;AACD,GAFyB,CAA1B;AAIA,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AACE,IAAA,EAAE,EAAC,MADL;AAEE,IAAA,OAAO,EAAEH,MAFX;AAGE,IAAA,KAAK,EACHL,KAAK,CAACS,IAAN,IAAcT,KAAK,CAACd,MAAN,GAAe,CAA7B,GACI;AAAEwB,MAAAA,UAAU,EAAE,MAAd;AAAsBC,MAAAA,KAAK,EAAE;AAA7B,KADJ,GAEI;AAAED,MAAAA,UAAU,EAAE,aAAd;AAA6BC,MAAAA,KAAK,EAAE;AAApC,KANR;AAQE,IAAA,SAAS,EAAC;AARZ,KAUE,MAAC,eAAD;AAAiB,IAAA,IAAI,EAAE/D;AAAvB,IAVF,CADF,EAaE;AACE,IAAA,KAAK,EACHoD,KAAK,CAACS,IAAN,IAAcT,KAAK,CAACd,MAAN,GAAe,CAA7B,GACE;AAAEyB,MAAAA,KAAK,EAAE;AAAT,KADF,GAEE;AAAEA,MAAAA,KAAK,EAAE;AAAT;AAJN,UAOIX,KAAK,CAACY,KAAN,CAAY1B,MAPhB,CAbF,CADF;AAyBD,CAhCD;;AAkCA,IAAM2B,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjB,MAAMC,KAAK,GAAG5D,WAAW,CAAC,UAAA+C,KAAK;AAAA,WAAIA,KAAK,CAACC,GAAN,CAAUC,aAAV,CAAwBW,KAA5B;AAAA,GAAN,CAAzB;AACA,MAAMV,QAAQ,GAAGjD,WAAW,EAA5B;AACA,MAAMkD,MAAM,GAAG9D,WAAW,CAAC,YAAK;AAC9B6D,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAEjD,WAAR;AAAqBkD,MAAAA,IAAI,EAAEnD,OAAO,CAAC2D;AAAnC,KAAD,CAAR;AACD,GAFyB,CAA1B;;AAHiB,mBAMKvE,QAAQ,CAAC,KAAD,CANb;AAAA,MAMVwE,GANU;AAAA,MAMLC,MANK;;AAOjB,MAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBb,IAAAA,MAAM;AACNY,IAAAA,MAAM,CAAC,CAACD,GAAF,CAAN;AACD,GAHD;;AAIA,MAAMG,aAAa,GAAG,SAAhBA,aAAgB,GAAK;AACzBF,IAAAA,MAAM,CAAC,KAAD,CAAN;AACD,GAFD;;AAIA,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AACE,IAAA,EAAE,EAAC,MADL;AAEE,IAAA,OAAO,EAAEC,UAFX;AAGE,IAAA,KAAK,EACHJ,KAAK,CAACL,IAAN,IAAcK,KAAK,CAAC5B,MAAN,GAAe,CAA7B,GACI;AAAEwB,MAAAA,UAAU,EAAE,MAAd;AAAsBC,MAAAA,KAAK,EAAE;AAA7B,KADJ,GAEI;AAAED,MAAAA,UAAU,EAAE,aAAd;AAA6BC,MAAAA,KAAK,EAAE;AAApC,KANR;AAQE,IAAA,SAAS,EAAC;AARZ,KAUE,MAAC,eAAD;AAAiB,IAAA,IAAI,EAAE1D;AAAvB,IAVF,CADF,EAaE;AACE,IAAA,KAAK,EACH6D,KAAK,CAACL,IAAN,IAAcK,KAAK,CAAC5B,MAAN,GAAe,CAA7B,GACE;AAAEyB,MAAAA,KAAK,EAAE;AAAT,KADF,GAEE;AAAEA,MAAAA,KAAK,EAAE;AAAT;AAJN,UAOIG,KAAK,CAACF,KAAN,CAAY1B,MAPhB,CAbF,EAsBE,MAAC,OAAD;AAAS,IAAA,MAAM,EAAC,MAAhB;AAAuB,IAAA,MAAM,EAAE8B,GAA/B;AAAoC,IAAA,SAAS,EAAC;AAA9C,KACI,MAAC,WAAD,QACE;AAAI,IAAA,OAAO,EAAEG;AAAb,KAEIL,KAAK,CAACF,KAAN,CAAYzB,GAAZ,CAAgB,UAAAC,IAAI;AAAA,WAClB;AAAI,MAAA,GAAG,EAAEzB,IAAI;AAAb,OACGyB,IAAI,CAACgC,EADR,CADkB;AAAA,GAApB,CAFJ,CADF,CADJ,CAtBF,CADF;AAsCD,CArDD;;AAuDA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,MAAMC,MAAM,GAAGpE,WAAW,CAAC,UAAA+C,KAAK;AAAA,WAAIA,KAAK,CAACC,GAAN,CAAUC,aAAV,CAAwBoB,SAA5B;AAAA,GAAN,CAA1B;AACA,MAAMnB,QAAQ,GAAGjD,WAAW,EAA5B;AACA,MAAMkD,MAAM,GAAG9D,WAAW,CAAC,YAAK;AAC9B6D,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAEjD,WAAR;AAAqBkD,MAAAA,IAAI,EAAEnD,OAAO,CAACoE;AAAnC,KAAD,CAAR;AACD,GAFyB,CAA1B;;AAHmB,mBAOGhF,QAAQ,CAAC,KAAD,CAPX;AAAA,MAOZwE,GAPY;AAAA,MAOPC,MAPO;;AAQnB,MAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBb,IAAAA,MAAM;AACNY,IAAAA,MAAM,CAAC,CAACD,GAAF,CAAN;AACD,GAHD;;AAKA,MAAMG,aAAa,GAAG,SAAhBA,aAAgB,GAAK;AACzBF,IAAAA,MAAM,CAAC,KAAD,CAAN;AACD,GAFD;;AAIA,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AACE,IAAA,EAAE,EAAC,QADL;AAEE,IAAA,OAAO,EAAEC,UAFX;AAGE,IAAA,KAAK,EACHI,MAAM,CAACb,IAAP,IAAea,MAAM,CAACpC,MAAP,GAAgB,CAA/B,GACI;AAAEwB,MAAAA,UAAU,EAAE,MAAd;AAAsBC,MAAAA,KAAK,EAAE;AAA7B,KADJ,GAEI;AAAED,MAAAA,UAAU,EAAE,aAAd;AAA6BC,MAAAA,KAAK,EAAE;AAApC,KANR;AAQE,IAAA,SAAS,EAAC;AARZ,KAUE,MAAC,eAAD;AAAiB,IAAA,IAAI,EAAE7D;AAAvB,IAVF,CADF,EAaE;AACE,IAAA,KAAK,EACHwE,MAAM,CAACb,IAAP,IAAea,MAAM,CAACpC,MAAP,GAAgB,CAA/B,GACE;AAAEyB,MAAAA,KAAK,EAAE;AAAT,KADF,GAEE;AAAEA,MAAAA,KAAK,EAAE;AAAT;AAJN,UAOIW,MAAM,CAACV,KAAP,CAAa1B,MAPjB,CAbF,EAsBE,MAAC,OAAD;AAAS,IAAA,MAAM,EAAC,QAAhB;AAAyB,IAAA,MAAM,EAAE8B,GAAjC;AAAsC,IAAA,SAAS,EAAC;AAAhD,KACI,MAAC,WAAD,QACE;AAAI,IAAA,YAAY,EAAEG;AAAlB,KAEIG,MAAM,CAACV,KAAP,CAAazB,GAAb,CAAiB,UAAAC,IAAI;AAAA,WACnB;AAAI,MAAA,GAAG,EAAEzB,IAAI;AAAb,OACGyB,IAAI,CAACgC,EADR,CADmB;AAAA,GAArB,CAFJ,CADF,CADJ,CAtBF,CADF;AAsCD,CAvDD;;AAyDA,IAAMK,MAAM,GAAG,SAATA,MAAS,GAAM;AAAA,mBACGjF,QAAQ,CAAC,KAAD,CADX;AAAA,MACZwE,GADY;AAAA,MACPC,MADO;;AAGnB,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAQ,IAAA,EAAE,EAAC,QAAX;AAAoB,IAAA,OAAO,EAAE;AAAA,aAAKA,MAAM,CAAC,CAACD,GAAF,CAAX;AAAA,KAA7B;AAAgD,IAAA,SAAS,EAAC;AAA1D,KACE,MAAC,eAAD;AAAiB,IAAA,IAAI,EAAEjE;AAAvB,IADF,CADF,EAIE,MAAC,OAAD;AAAS,IAAA,MAAM,EAAC,QAAhB;AAAyB,IAAA,MAAM,EAAEiE,GAAjC;AAAsC,IAAA,SAAS,EAAC;AAAhD,KACE,MAAC,WAAD;AAAa,IAAA,KAAK,EAAE;AAAE/B,MAAAA,OAAO,EAAC;AAAV;AAApB,KACE;AAAI,IAAA,SAAS,EAAC,aAAd;AAA4B,IAAA,YAAY,EAAE;AAAA,aAAKgC,MAAM,CAAC,KAAD,CAAX;AAAA;AAA1C,KACE,kBAAI,+BAAJ,CADF,EAEE,kBAAI,8BAAJ,CAFF,CADF,CADF,CAJF,CADF;AAeD,CAlBD;;AAoBA,IAAMS,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,MAAMC,MAAM,GAAGzE,WAAW,CAAC,UAAA+C,KAAK;AAAA,WAAIA,KAAK,CAACC,GAAN,CAAUyB,MAAd;AAAA,GAAN,CAA1B;AAEA,SACA;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAG,IAAA,SAAS,EAAC;AAAb,KAA2B,MAAC,eAAD;AAAiB,IAAA,IAAI,EAAE3E;AAAvB,IAA3B,CADF,EAEE;AAAM,IAAA,KAAK,EAAE;AAAE4E,MAAAA,QAAQ,EAAE;AAAZ;AAAb,UAAiCD,MAAjC,CAFF,CADA;AAMD,CATD;;AAWA,IAAME,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAE1B,SACE;AAAI,IAAA,SAAS,EAAC;AAAd,KACE,kBAAI,MAAC,IAAD,OAAJ,CADF,EAEE,kBAAI,MAAC,IAAD,OAAJ,CAFF,EAGE,kBAAI,MAAC,MAAD,OAAJ,CAHF,EAIE,kBAAI,MAAC,MAAD,OAAJ,CAJF,EAKE,kBAAI,MAAC,MAAD,OAAJ,CALF,CADF;AASD,CAXD;;AAaA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,MAAMC,MAAM,GAAG7E,WAAW,CAAC,UAAA+C,KAAK;AAAA,WAAIA,KAAK,CAACC,GAAN,CAAU6B,MAAd;AAAA,GAAN,CAA1B;AACA,MAAM3B,QAAQ,GAAGjD,WAAW,EAA5B;AACA,MAAM6E,QAAQ,GAAGzF,WAAW,CAAC,UAACwF,MAAD;AAAA,WAAW3B,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAEhD,SAAR;AAAmByE,MAAAA,MAAM,EAANA;AAAnB,KAAD,CAAnB;AAAA,GAAD,CAA5B;AAEA,SAAO;AAAK,IAAA,SAAS,EAAC,WAAf;AAA2B,IAAA,KAAK,EAAE;AAAEE,MAAAA,KAAK,EAAEF;AAAT;AAAlC,IAAP;AACD,CAND;;AASA,IAAMG,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,MAAMhC,GAAG,GAAGhD,WAAW,CAAC,UAAA+C,KAAK;AAAA,WAAIA,KAAK,CAACC,GAAV;AAAA,GAAN,CAAvB;;AADmB,mBAEO1D,QAAQ,CAAC,CAAD,CAFf;AAAA,MAEZyF,KAFY;AAAA,MAELE,QAFK;;AAInB7F,EAAAA,SAAS,CAAC,YAAK;AACb6F,IAAAA,QAAQ,CAACpE,MAAM,CAACqE,UAAR,CAAR;AACD,GAFQ,EAEP,EAFO,CAAT;AAIA,SACE;AAAQ,IAAA,SAAS,EAAC;AAAlB,KACI,MAAC,SAAD,OADJ,EAEI,mBACA,MAAC,OAAD,OADA,EAEA;AAAK,IAAA,SAAS,EAAC;AAAf,KACE,MAAC,IAAD;AAAM,IAAA,GAAG,EAAC;AAAV,IADF,EAEIlC,GAAG,CAACmC,KAAJ,IAAaJ,KAAK,GAAG,GAArB,IAA4B,MAAC,SAAD,OAFhC,CAFA,EAME,CAAC/B,GAAG,CAACmC,KAAL,IAAc,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KAAoB;AAAQ,IAAA,SAAS,EAAC;AAAlB,aAApB,CANhB,EAOEnC,GAAG,CAACmC,KAAJ,IAAa,MAAC,aAAD,OAPf,CAFJ,EAWMJ,KAAK,GAAG,GAAR,IAAe,MAAC,SAAD,OAXrB,CADF;AAeD,CAvBD;;AAyBA,eAAeC,MAAf","sourcesContent":["import React, { useEffect, useCallback, useState } from 'react';\nimport Logo from './logo';\nimport './header.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch, faGift, faHeart, faUser, faCog, faCoins, faBell } from '@fortawesome/free-solid-svg-icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { navView, ON_VIEW_NAV, ON_LOADER } from '../../store/actions';\nimport axios from 'axios';\nimport Link from 'next/link';\nimport { Popover, PopoverBody } from 'reactstrap';\nimport uuid from 'uuid/v1';\n\nconst DownBar = () => {\n  const [down, setDown] = useState(false);\n\n  useEffect(()=> {\n    window.onscroll = () => {\n      if(window.scrollY > 30){\n        setDown(true);\n      } else {\n        setDown(false);\n      }\n    }\n  }, []);\n  console.log(down);\n  return <div className=\"down_bar\" style={{ height: down ? 40 : 0 }} />\n};\n\nconst SearchBar = () => {\n  const testList = [\"felix\", \"luis\", \"maximiliano\", \"francisco\", 'teresa', 'yleana'];\n  const [suggest, setSuggest] = useState([]);\n\n  const onSuggest = (e) => {\n    const value = e.target.value;\n    if(value){\n      value.toLocaleLowerCase();\n      const suggest = testList.filter(name => name.toLocaleLowerCase().indexOf(value) > -1);\n      setSuggest(suggest);\n    } else{\n      setSuggest([]);\n    }\n  }\n\n  return(\n    <div className=\"searchbar_main_cont\">\n      <div className=\"search_cont\">\n        <input onChange={onSuggest} type=\"text\"/>\n        <p><FontAwesomeIcon icon={faSearch} /></p>\n      </div>\n      <ul style={{ padding: suggest.length > 0 ? '.2rem' : '0' }} className=\"sugesstlist\">\n        {\n          suggest.map(item => <li>{item}</li>)\n        }\n      </ul>\n    </div>\n  )\n};\n\nconst Login = () => {\n  const [mail, setMail] = useState('');\n  const [pass, setPass] = useState('');\n\n  const onSubmit = async () => {\n    try{\n      const data = { mail, pass };\n      const res = await axios.post('/user/login', data);\n      console.log(res.data);\n    }catch(err){\n      console.log(err);\n    }\n  }\n\n  return(\n    <div className=\"navlogin_main_cont\">\n      <form onSubmit={onSubmit}>\n        <label htmlFor=\"mail\">usuario:<input id=\"mail\" name=\"mail\" value={mail} onChange={(e)=> setMail(e.currentTarget.value)} type=\"text\"/></label>\n        <label htmlFor=\"pass\">contraseña:<input id=\"pass\" name=\"pass\" value={pass} onChange={(e)=> setPass(e.currentTarget.value)} type=\"password\"/></label>\n        <button className=\"btn_login\" type=\"submit\">login</button>\n      </form>\n    </div>\n  )\n}\n\nconst Gift = () => {\n  const gifts = useSelector(state => state.nav.notifications.gifts);\n  const dispatch = useDispatch();\n  const onView = useCallback(()=> {\n    dispatch({ type: ON_VIEW_NAV, note: navView.GIFT });\n  })\n\n  return(\n    <div className=\"btnicon_cont\">\n      <button\n        id=\"gift\"\n        onClick={onView}\n        style={\n          gifts.view && gifts.length > 0 \n            ? { background: \"#fff\", color: \"#ff6c1a\" }\n            : { background: \"transparent\", color: \"#fff\" }\n        } \n        className=\"btnicon_nav\"\n      >\n        <FontAwesomeIcon icon={faGift} />\n      </button>\n      <span\n        style={\n          gifts.view && gifts.length > 0 \n          ? { color: \"#ff6c1a\" }\n          : { color: \"#fff\" }\n        }\n      >\n        +{gifts.items.length}\n      </span>\n    </div>\n  );\n}\n\nconst Note = () => {\n  const notes = useSelector(state => state.nav.notifications.notes);\n  const dispatch = useDispatch();\n  const onView = useCallback(()=> {\n    dispatch({ type: ON_VIEW_NAV, note: navView.NOTES });\n  });\n  const [pop, setPop] = useState(false);\n  const handleView = () => {\n    onView();\n    setPop(!pop);\n  };\n  const handleViewOut = () =>{\n    setPop(false)\n  }\n\n  return(\n    <div className=\"btnicon_cont\">\n      <button\n        id=\"note\"\n        onClick={handleView}\n        style={\n          notes.view && notes.length > 0 \n            ? { background: \"#fff\", color: \"#ff6c1a\" }\n            : { background: \"transparent\", color: \"#fff\" }\n        }\n        className=\"btnicon_nav\"\n      >\n        <FontAwesomeIcon icon={faBell} />\n      </button>\n      <span\n        style={\n          notes.view && notes.length > 0 \n          ? { color: \"#ff6c1a\" }\n          : { color: \"#fff\" }\n        }\n      >\n        +{notes.items.length}\n      </span>\n      <Popover target=\"note\" isOpen={pop} placement=\"bottom\">\n          <PopoverBody>\n            <ul onClick={handleViewOut}>\n              {\n                notes.items.map(item => (\n                  <li key={uuid()}>\n                    {item.id}\n                  </li>\n                ))\n                }\n            </ul>\n          </PopoverBody>\n        </Popover>\n    </div>\n  )\n}\n\nconst Friend = () => {\n  const friend = useSelector(state => state.nav.notifications.friendReq);\n  const dispatch = useDispatch();\n  const onView = useCallback(()=> {\n    dispatch({ type: ON_VIEW_NAV, note: navView.FRIEND });\n  });\n\n  const [pop, setPop] = useState(false);\n  const handleView = () => {\n    onView();\n    setPop(!pop);\n  }\n\n  const handleViewOut = () =>{\n    setPop(false)\n  }\n\n  return(\n    <div className=\"btnicon_cont\">\n      <button\n        id=\"friend\"\n        onClick={handleView}\n        style={\n          friend.view && friend.length > 0 \n            ? { background: \"#fff\", color: \"#ff6c1a\" }\n            : { background: \"transparent\", color: \"#fff\" }\n        }      \n        className=\"btnicon_nav\"\n      >\n        <FontAwesomeIcon icon={faUser} />\n      </button>\n      <span\n        style={\n          friend.view && friend.length > 0 \n          ? { color: \"#ff6c1a\" }\n          : { color: \"#fff\" }\n        }\n      >\n        +{friend.items.length}\n      </span>\n      <Popover target=\"friend\" isOpen={pop} placement=\"bottom\">\n          <PopoverBody>\n            <ul onMouseLeave={handleViewOut}>\n              {\n                friend.items.map(item => (\n                  <li key={uuid()}>\n                    {item.id}\n                  </li>\n                ))\n                }\n            </ul>\n          </PopoverBody>\n        </Popover>      \n    </div>\n  )\n}\n\nconst Option = () => {\n  const [pop, setPop] = useState(false);\n\n  return(\n    <div className=\"btnicon_cont\">\n      <button id=\"option\" onClick={()=> setPop(!pop)} className=\"btnicon_nav\">\n        <FontAwesomeIcon icon={faCog} />\n      </button>\n      <Popover target=\"option\" isOpen={pop} placement=\"bottom\">\n        <PopoverBody style={{ padding:0 }}>\n          <ul className=\"option_list\" onMouseLeave={()=> setPop(false)}>\n            <li><button>perfil</button></li>\n            <li><button>salir</button></li>\n          </ul>\n        </PopoverBody>\n      </Popover>\n    </div>\n  )\n}\n\nconst Wallet = () => {\n  const wallet = useSelector(state => state.nav.wallet);\n\n  return (\n  <div className=\"btnicon_cont\">\n    <p className=\"wallet_cont\"><FontAwesomeIcon icon={faCoins} /></p>\n    <span style={{ fontSize: 16 }}>+{wallet}</span>\n  </div>\n  )\n}\n\nconst Notifications = () => {\n\n  return(\n    <ul className=\"notifications_main_cont\">\n      <li><Gift /></li>\n      <li><Note /></li>\n      <li><Friend /></li>\n      <li><Option /></li>\n      <li><Wallet /></li>\n    </ul>\n  );\n}\n\nconst BarLoader = () => {\n  const loader = useSelector(state => state.nav.loader);\n  const dispatch = useDispatch();\n  const onLoader = useCallback((loader)=> dispatch({ type: ON_LOADER, loader }));\n\n  return <div className=\"barloader\" style={{ width: loader }} />\n}\n\n\nconst Header = () => {\n  const nav = useSelector(state => state.nav);\n  const [width, setWidth] = useState(0);\n\n  useEffect(()=> {\n    setWidth(window.innerWidth);\n  },[]);\n  \n  return(\n    <header className=\"header_main_cont\">\n        <BarLoader />\n        <nav>\n        <DownBar />\n        <div className=\"logo_search\">\n          <Logo url='/' />\n          { nav.login && width > 992 && <SearchBar /> }\n        </div>\n        { !nav.login && <Link href=\"/login\"><button className=\"btn_login\">login</button></Link> }\n        { nav.login && <Notifications /> }\n        </nav>\n        { width < 576 && <SearchBar /> }\n    </header>\n  )\n};\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}