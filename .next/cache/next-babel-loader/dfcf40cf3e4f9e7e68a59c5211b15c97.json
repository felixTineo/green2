{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUserPlus, faUserCheck, faUserClock, faHeart, faGift, faComment } from '@fortawesome/free-solid-svg-icons';\nimport './home.scss';\nimport axios from 'axios';\n\nconst GreenInfoIcon = ({\n  icon,\n  info\n}) => {\n  return __jsx(\"li\", {\n    className: \"greenicon_info_cont\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: icon\n  }), __jsx(\"p\", null, info));\n};\n\nconst BtnFriend = () => {\n  const user = useSelector(state => state.user);\n  const id = useSelector(state => state.nav.notifications.id);\n  const {\n    0: status,\n    1: setStatus\n  } = useState(0);\n\n  const sendFriend = async () => {\n    try {\n      await axios.get(`/friend/send/${user._id}`);\n      setStatus(1);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const acceptFriend = async () => {\n    try {\n      await axios.get(`/friend/accept/${user._id}`);\n      setStatus(0);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const cancelFriend = async () => {\n    try {\n      await axios.get(`/friend/cancel/${user._id}`);\n      setStatus(null);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    const friend = user.friends.find(friend => friend._id === id);\n    const status = friend ? friend.status : null;\n    setStatus(status);\n  }, [id]);\n\n  switch (status) {\n    case 0:\n      return __jsx(\"button\", {\n        onClick: cancelFriend,\n        type: \"button\",\n        title: \"Eliminar amigo\"\n      }, __jsx(FontAwesomeIcon, {\n        icon: faUserCheck\n      }));\n\n    case 1:\n      return __jsx(\"button\", {\n        onClick: cancelFriend,\n        type: \"button\",\n        title: \"Cancelar solicitud de amistad\"\n      }, __jsx(FontAwesomeIcon, {\n        icon: faUserClock\n      }));\n\n    case 2:\n      return __jsx(\"button\", {\n        onClick: acceptFriend,\n        type: \"button\",\n        title: \"Aceptar solicitud de amistad\"\n      }, \"Aceptar\");\n\n    default:\n      return __jsx(\"button\", {\n        onClick: sendFriend,\n        type: \"button\",\n        title: \"Enviar solicitud de amistad\"\n      }, __jsx(FontAwesomeIcon, {\n        icon: faUserPlus\n      }));\n  }\n};\n\nconst GreenHome = () => {\n  const user = useSelector(state => state.user);\n  const greenpost = useSelector(state => state.greenpost.current);\n  const {\n    name,\n    lastName,\n    perfilImg,\n    _id\n  } = user;\n  return __jsx(\"div\", {\n    className: \"greenhome_main_cont animated fadeIn\"\n  }, __jsx(\"div\", {\n    className: \"user_info\"\n  }, __jsx(\"img\", {\n    src: perfilImg,\n    alt: \"\"\n  }), __jsx(\"div\", {\n    className: \"user_name\"\n  }, __jsx(\"p\", null, __jsx(\"span\", null, name), \" \", lastName), !user.owner && __jsx(BtnFriend, null)), __jsx(\"ul\", null, __jsx(GreenInfoIcon, {\n    info: greenpost.likes.length,\n    icon: faHeart\n  }), __jsx(GreenInfoIcon, {\n    info: greenpost.comments.length,\n    icon: faComment\n  }), __jsx(GreenInfoIcon, {\n    info: greenpost.wish.found,\n    icon: faGift\n  })), __jsx(\"p\", null, user.greenPost.history)));\n};\n\nexport default GreenHome;","map":{"version":3,"sources":["/home/felix/Documentos/projects/greenlink/components/greenpost/home.jsx"],"names":["React","useState","useEffect","useSelector","FontAwesomeIcon","faUserPlus","faUserCheck","faUserClock","faHeart","faGift","faComment","axios","GreenInfoIcon","icon","info","BtnFriend","user","state","id","nav","notifications","status","setStatus","sendFriend","get","_id","err","console","log","acceptFriend","cancelFriend","friend","friends","find","GreenHome","greenpost","current","name","lastName","perfilImg","owner","likes","length","comments","wish","found","greenPost","history"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUserPlus,faUserCheck, faUserClock, faHeart, faGift, faComment, } from '@fortawesome/free-solid-svg-icons';\nimport './home.scss';\nimport axios from 'axios';\n\nconst GreenInfoIcon = ({ icon, info }) => {\n  return(\n    <li className=\"greenicon_info_cont\">\n      <FontAwesomeIcon icon={icon} />\n      <p>{info}</p>\n    </li>\n  )\n}\n\nconst BtnFriend = () => {\n  const user = useSelector(state => state.user);\n  const id = useSelector(state => state.nav.notifications.id);\n  const [status, setStatus] = useState(0);\n\n  const sendFriend = async() => {\n    try{\n      await axios.get(`/friend/send/${user._id}`);\n      setStatus(1);\n    }catch(err){\n      console.log(err);\n    }\n  }\n\n  const acceptFriend = async() => {\n    try{\n      await axios.get(`/friend/accept/${user._id}`)\n      setStatus(0);\n    }catch(err){\n      console.log(err);\n    }\n  }\n\n  const cancelFriend = async() => {\n    try{\n      await axios.get(`/friend/cancel/${user._id}`)\n      setStatus(null);\n    }catch(err){\n      console.log(err);\n    }\n  }\n\n  useEffect(()=> {\n    const friend = user.friends.find(friend => friend._id === id);\n    const status = friend ? friend.status : null;\n    setStatus(status);\n  },[id]);\n\n  switch (status) {\n    case 0:\n      return <button onClick={cancelFriend} type=\"button\" title=\"Eliminar amigo\"><FontAwesomeIcon icon={faUserCheck} /></button>\n    case 1:\n      return <button onClick={cancelFriend} type=\"button\" title=\"Cancelar solicitud de amistad\"><FontAwesomeIcon icon={faUserClock} /></button>\n    case 2:\n      return <button onClick={acceptFriend} type=\"button\" title=\"Aceptar solicitud de amistad\">Aceptar</button>\n    default:\n      return <button onClick={sendFriend} type=\"button\" title=\"Enviar solicitud de amistad\"><FontAwesomeIcon icon={faUserPlus} /></button>\n  }\n}\n\nconst GreenHome = () => {\n  const user = useSelector(state => state.user);\n  const greenpost = useSelector(state => state.greenpost.current);\n  const { name, lastName, perfilImg, _id } = user;\n  return(\n    <div className=\"greenhome_main_cont animated fadeIn\">\n      <div className=\"user_info\">\n        <img src={perfilImg} alt=\"\"/>\n        <div className=\"user_name\">\n          <p><span>{name}</span>{\" \"}{lastName}</p>\n          {\n            !user.owner && <BtnFriend />\n          }\n        </div>\n        <ul>\n          <GreenInfoIcon info={greenpost.likes.length} icon={faHeart} />\n          <GreenInfoIcon info={greenpost.comments.length} icon={faComment} />\n          <GreenInfoIcon info={greenpost.wish.found} icon={faGift} />\n        </ul>\n        <p>{user.greenPost.history}</p>\n      </div>\n    </div>\n  )\n};\n\nexport default GreenHome;\n"]},"metadata":{},"sourceType":"module"}