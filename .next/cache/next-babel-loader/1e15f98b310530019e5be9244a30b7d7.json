{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { ON_LOADER } from '../../store/actions';\nimport Router from 'next/router';\nimport axios from 'axios';\n\nconst MyLink = ({\n  id,\n  children\n}) => {\n  const dispatch = useDispatch();\n\n  const onLink = async () => {\n    let loader = 0;\n    const interval = setInterval(() => {\n      loader += 15;\n      dispatch({\n        type: ON_LOADER,\n        loader\n      });\n    }, 1000);\n\n    if (loader >= 75) {\n      dispatch({\n        type: ON_LOADER,\n        loader: 97\n      });\n      clearInterval(interval);\n    }\n\n    try {\n      const res = await axios.get(`/user/perfil/${id}`);\n      dispatch({\n        type: ON_LOADER,\n        loader: 100\n      });\n      clearInterval(interval);\n      res.data.greenPost = _JSON$stringify(res.data.greenPost);\n      res.data.posts = _JSON$stringify(res.data.posts);\n      res.data.friends = _JSON$stringify(res.data.friends);\n      Router.replace({\n        pathname: `/perfil`,\n        query: res.data\n      }, `/perfil/${id}`);\n    } catch (err) {\n      console.log(err);\n      clearInterval(interval);\n    }\n  };\n\n  return __jsx(\"button\", {\n    onClick: onLink,\n    type: \"button\",\n    className: \"jsx-2059577519\"\n  }, children, __jsx(_JSXStyle, {\n    id: \"2059577519\"\n  }, \"button.jsx-2059577519{background:transparent;border:none;padding:0;margin:0;outline:none;}button.jsx-2059577519:focus{outline:none;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZlbGl4L0RvY3VtZW50b3MvcHJvamVjdHMvZ3JlZW5saW5rL2NvbXBvbmVudHMvbXlsaW5rL2xpbmsuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1Da0IsQUFHb0MsQUFPVixhQUNmLFVBUGMsWUFDRixVQUNELFNBQ0ksYUFDZiIsImZpbGUiOiIvaG9tZS9mZWxpeC9Eb2N1bWVudG9zL3Byb2plY3RzL2dyZWVubGluay9jb21wb25lbnRzL215bGluay9saW5rLmpzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IE9OX0xPQURFUiB9IGZyb20gJy4uLy4uL3N0b3JlL2FjdGlvbnMnO1xuaW1wb3J0IFJvdXRlciBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5jb25zdCBNeUxpbmsgPSAoeyBpZCwgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IG9uTGluayA9IGFzeW5jKCkgPT4ge1xuICAgIGxldCBsb2FkZXIgPSAwO1xuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCk9PiB7XG4gICAgICBsb2FkZXIgKz0gMTU7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IE9OX0xPQURFUiwgbG9hZGVyIH0pO1xuICAgIH0sMTAwMCk7XG4gICAgaWYobG9hZGVyID49IDc1KXtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogT05fTE9BREVSLCBsb2FkZXI6IDk3IH0pO1xuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgfVxuICAgIHRyeXtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChgL3VzZXIvcGVyZmlsLyR7aWR9YCk7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IE9OX0xPQURFUiwgbG9hZGVyOiAxMDAgfSk7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgIHJlcy5kYXRhLmdyZWVuUG9zdCA9IEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLmdyZWVuUG9zdCk7XG4gICAgICByZXMuZGF0YS5wb3N0cyA9IEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLnBvc3RzKTtcbiAgICAgIHJlcy5kYXRhLmZyaWVuZHMgPSBKU09OLnN0cmluZ2lmeShyZXMuZGF0YS5mcmllbmRzKTtcbiAgICAgIFJvdXRlci5yZXBsYWNlKHtwYXRobmFtZTogYC9wZXJmaWxgLCBxdWVyeTogcmVzLmRhdGF9LCBgL3BlcmZpbC8ke2lkfWApO1xuICAgIH1jYXRjaChlcnIpe1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkxpbmt9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICBidXR0b257XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICAgIH1cbiAgICAgICAgICBidXR0b246Zm9jdXN7XG4gICAgICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9idXR0b24+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTXlMaW5rO1xuIl19 */\\n/*@ sourceURL=/home/felix/Documentos/projects/greenlink/components/mylink/link.jsx */\"));\n};\n\nexport default MyLink;","map":{"version":3,"sources":["/home/felix/Documentos/projects/greenlink/components/mylink/link.jsx"],"names":["React","useDispatch","ON_LOADER","Router","axios","MyLink","id","children","dispatch","onLink","loader","interval","setInterval","type","clearInterval","res","get","data","greenPost","posts","friends","replace","pathname","query","err","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,SAAT,QAA0B,qBAA1B;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,MAAM,GAAG,CAAC;AAAEC,EAAAA,EAAF;AAAMC,EAAAA;AAAN,CAAD,KAAsB;AACnC,QAAMC,QAAQ,GAAGP,WAAW,EAA5B;;AACA,QAAMQ,MAAM,GAAG,YAAW;AACxB,QAAIC,MAAM,GAAG,CAAb;AACA,UAAMC,QAAQ,GAAGC,WAAW,CAAC,MAAK;AAChCF,MAAAA,MAAM,IAAI,EAAV;AACAF,MAAAA,QAAQ,CAAC;AAAEK,QAAAA,IAAI,EAAEX,SAAR;AAAmBQ,QAAAA;AAAnB,OAAD,CAAR;AACD,KAH2B,EAG1B,IAH0B,CAA5B;;AAIA,QAAGA,MAAM,IAAI,EAAb,EAAgB;AACdF,MAAAA,QAAQ,CAAC;AAAEK,QAAAA,IAAI,EAAEX,SAAR;AAAmBQ,QAAAA,MAAM,EAAE;AAA3B,OAAD,CAAR;AACAI,MAAAA,aAAa,CAACH,QAAD,CAAb;AACD;;AACD,QAAG;AACD,YAAMI,GAAG,GAAG,MAAMX,KAAK,CAACY,GAAN,CAAW,gBAAeV,EAAG,EAA7B,CAAlB;AACAE,MAAAA,QAAQ,CAAC;AAAEK,QAAAA,IAAI,EAAEX,SAAR;AAAmBQ,QAAAA,MAAM,EAAE;AAA3B,OAAD,CAAR;AACAI,MAAAA,aAAa,CAACH,QAAD,CAAb;AACAI,MAAAA,GAAG,CAACE,IAAJ,CAASC,SAAT,GAAqB,gBAAeH,GAAG,CAACE,IAAJ,CAASC,SAAxB,CAArB;AACAH,MAAAA,GAAG,CAACE,IAAJ,CAASE,KAAT,GAAiB,gBAAeJ,GAAG,CAACE,IAAJ,CAASE,KAAxB,CAAjB;AACAJ,MAAAA,GAAG,CAACE,IAAJ,CAASG,OAAT,GAAmB,gBAAeL,GAAG,CAACE,IAAJ,CAASG,OAAxB,CAAnB;AACAjB,MAAAA,MAAM,CAACkB,OAAP,CAAe;AAACC,QAAAA,QAAQ,EAAG,SAAZ;AAAsBC,QAAAA,KAAK,EAAER,GAAG,CAACE;AAAjC,OAAf,EAAwD,WAAUX,EAAG,EAArE;AACD,KARD,CAQC,OAAMkB,GAAN,EAAU;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAV,MAAAA,aAAa,CAACH,QAAD,CAAb;AACD;AACF,GAtBD;;AAwBA,SACE;AAAQ,IAAA,OAAO,EAAEF,MAAjB;AAAyB,IAAA,IAAI,EAAC,QAA9B;AAAA;AAAA,KACGF,QADH;AAAA;AAAA,6iFADF;AAkBD,CA5CD;;AA8CA,eAAeF,MAAf","sourcesContent":["import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { ON_LOADER } from '../../store/actions';\nimport Router from 'next/router';\nimport axios from 'axios';\n\nconst MyLink = ({ id, children }) => {\n  const dispatch = useDispatch();\n  const onLink = async() => {\n    let loader = 0;\n    const interval = setInterval(()=> {\n      loader += 15;\n      dispatch({ type: ON_LOADER, loader });\n    },1000);\n    if(loader >= 75){\n      dispatch({ type: ON_LOADER, loader: 97 });\n      clearInterval(interval);\n    }\n    try{\n      const res = await axios.get(`/user/perfil/${id}`);\n      dispatch({ type: ON_LOADER, loader: 100 });\n      clearInterval(interval);\n      res.data.greenPost = JSON.stringify(res.data.greenPost);\n      res.data.posts = JSON.stringify(res.data.posts);\n      res.data.friends = JSON.stringify(res.data.friends);\n      Router.replace({pathname: `/perfil`, query: res.data}, `/perfil/${id}`);\n    }catch(err){\n      console.log(err);\n      clearInterval(interval);\n    }\n  }\n\n  return (\n    <button onClick={onLink} type=\"button\">\n      {children}\n      <style jsx>{`\n          button{\n            background: transparent;\n            border: none;\n            padding: 0;\n            margin: 0;\n            outline: none;\n          }\n          button:focus{\n            outline: none;\n          }\n        `}\n      </style>\n    </button>\n  )\n}\n\nexport default MyLink;\n"]},"metadata":{},"sourceType":"module"}