{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ON_GREEN_COMMENT } from '../../store/actions';\nimport uuid from 'uuid/v1';\nimport { color } from '../../layout/var';\nimport axios from 'axios';\nimport io from 'socket.io-client';\n\nconst CommentList = ({\n  comment,\n  perfilImg,\n  fullName\n}) => {\n  const owner = useSelector(state => state.user.owner);\n  return __jsx(\"li\", {\n    className: _JSXStyle.dynamic([[\"814670264\", [owner ? color.prim : \"#bbb\", color.dark, color.light]]]) + \" \" + \"shadow\"\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"814670264\", [owner ? color.prim : \"#bbb\", color.dark, color.light]]])\n  }, __jsx(\"img\", {\n    src: perfilImg,\n    alt: \"\",\n    className: _JSXStyle.dynamic([[\"814670264\", [owner ? color.prim : \"#bbb\", color.dark, color.light]]])\n  }), __jsx(\"small\", {\n    className: _JSXStyle.dynamic([[\"814670264\", [owner ? color.prim : \"#bbb\", color.dark, color.light]]])\n  }, fullName)), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"814670264\", [owner ? color.prim : \"#bbb\", color.dark, color.light]]])\n  }, comment), __jsx(_JSXStyle, {\n    id: \"814670264\",\n    dynamic: [owner ? color.prim : \"#bbb\", color.dark, color.light]\n  }, `li.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:.5rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#fff;min-width:20%;border-left:5px solid ${owner ? color.prim : \"#bbb\"};}p.__jsx-style-dynamic-selector{margin:0;padding:.3rem;}div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:${color.dark};padding:.2rem;}small.__jsx-style-dynamic-selector{margin-left:.2rem;color:${color.light};}img.__jsx-style-dynamic-selector{width:25px;height:25px;border-radius:50%;object-fit:cover;object-position:center;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZlbGl4L0RvY3VtZW50b3MvcHJvamVjdHMvZ3JlZW5saW5rL2NvbXBvbmVudHMvZ3JlZW5wb3N0L2NvbW1lbnQuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlCa0IsQUFHMEIsQUFRSixBQUlJLEFBT0ssQUFJUCxTQWRHLEVBZUYsT0FKdUIsS0FWckMsQUFlb0Isa0JBQ0QsWUFMbkIsS0FNeUIsZ0JBMUJOLEFBWUssT0FleEIsVUExQnFCLDZEQVlBLGdDQVhILGdCQUNGLGNBQ3FDLCtCQVVYLG9CQVQxQyxvQkFVZ0IsY0FDaEIiLCJmaWxlIjoiL2hvbWUvZmVsaXgvRG9jdW1lbnRvcy9wcm9qZWN0cy9ncmVlbmxpbmsvY29tcG9uZW50cy9ncmVlbnBvc3QvY29tbWVudC5qc3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgT05fR1JFRU5fQ09NTUVOVCB9IGZyb20gJy4uLy4uL3N0b3JlL2FjdGlvbnMnO1xuaW1wb3J0IHV1aWQgZnJvbSAndXVpZC92MSc7XG5pbXBvcnQgeyBjb2xvciB9IGZyb20gJy4uLy4uL2xheW91dC92YXInO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBpbyBmcm9tICdzb2NrZXQuaW8tY2xpZW50JztcblxuY29uc3QgQ29tbWVudExpc3QgPSAoeyBjb21tZW50LCBwZXJmaWxJbWcsIGZ1bGxOYW1lIH0pID0+IHtcbiAgY29uc3Qgb3duZXIgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS51c2VyLm93bmVyKTtcbiAgcmV0dXJuKFxuICAgIDxsaSBjbGFzc05hbWU9XCJzaGFkb3dcIj5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxpbWcgc3JjPXtwZXJmaWxJbWd9IGFsdD1cIlwiLz5cbiAgICAgICAgPHNtYWxsPntmdWxsTmFtZX08L3NtYWxsPlxuICAgICAgPC9kaXY+XG4gICAgICA8cD57Y29tbWVudH08L3A+XG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgbGl7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogLjVyZW07XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgICAgICAgIG1pbi13aWR0aDogMjAlO1xuICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCAke293bmVyID8gY29sb3IucHJpbSA6IFwiI2JiYlwifTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHtcbiAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIHBhZGRpbmc6IC4zcmVtO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkaXZ7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAke2NvbG9yLmRhcmt9O1xuICAgICAgICAgICAgcGFkZGluZzogLjJyZW07XG4gICAgICAgICAgfVxuICAgICAgICAgIHNtYWxse1xuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IC4ycmVtO1xuICAgICAgICAgICAgY29sb3I6ICR7Y29sb3IubGlnaHR9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbWd7XG4gICAgICAgICAgICB3aWR0aDogMjVweDtcbiAgICAgICAgICAgIGhlaWdodDogMjVweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgICAgICAgICAgb2JqZWN0LXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgICAgICAgfVxuICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuY29uc3QgQ29tbWVudCA9ICgpID0+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICBjb25zdCBjb21tZW50cyA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLmdyZWVucG9zdC5jdXJyZW50LmNvbW1lbnRzKTtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtkaXNhYmxlLCBzZXREaXNhYmxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgaW5wdXQgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHNjcm9sbCA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcGlkID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuZ3JlZW5wb3N0LmN1cnJlbnQuX2lkKTtcblxuICB1c2VFZmZlY3QoKCk9PiB7XG4gICAgY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAgICBzb2NrZXQub3BlbigpO1xuICAgIHNvY2tldC5vbihgZ3JlZW46JHtwaWR9YCwgKG5ld0NvbW1lbnQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKG5ld0NvbW1lbnQpO1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBPTl9HUkVFTl9DT01NRU5ULCBjb21tZW50OiBuZXdDb21tZW50IH0pO1xuICAgICAgc2Nyb2xsLmN1cnJlbnQuc2Nyb2xsVG8oMCwgc2Nyb2xsLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCk9PiBzb2NrZXQuY2xvc2UoKTtcbiAgfSxbY29tbWVudHNdKTtcblxuICB1c2VFZmZlY3QoKCk9PiB7XG4gICAgc2Nyb2xsLmN1cnJlbnQuc2Nyb2xsVG8oMCwgc2Nyb2xsLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0KTtcbiAgICBpbnB1dC5jdXJyZW50LmZvY3VzKCk7XG4gIH0sW2NvbW1lbnRzXSk7XG5cbiAgY29uc3Qgb25TdWJtaXQgPSBhc3luYyhlKSA9PiB7XG4gICAgdHJ5e1xuICAgICAgaWYoZS5rZXlDb2RlID09PSAxMyAmJiBlLnNoaWZ0S2V5ID09PSBmYWxzZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc2V0RGlzYWJsZSh0cnVlKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICBjb21tZW50OiB2YWx1ZSxcbiAgICAgICAgICBwaWQsXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MucG9zdCgnL2dyZWVuL2NvbW1lbnQvYWRkJywgZGF0YSk7XG4gICAgICAgIHNldERpc2FibGUoZmFsc2UpO1xuICAgICAgICBzZXRWYWx1ZSgnJyk7XG4gICAgICAgIGlucHV0LmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9Y2F0Y2goZXJyKXtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpbl9jb250IGFuaW1hdGVkIGZhZGVJblwiPlxuICAgICAgPHVsIHJlZj17c2Nyb2xsfT5cbiAgICAgICAge1xuICAgICAgICAgIGNvbW1lbnRzLm1hcChjb21tZW50ID0+IDxDb21tZW50TGlzdCB7Li4uY29tbWVudH0ga2V5PXt1dWlkKCl9IC8+KVxuICAgICAgICB9XG4gICAgICA8L3VsPlxuICAgICAgPGZvcm0gb25TdWJtaXQ9e29uU3VibWl0fT5cbiAgICAgICAgPHRleHRhcmVhIGRpc2FibGVkPXtkaXNhYmxlfSBvbktleURvd249e29uU3VibWl0fSByZWY9e2lucHV0fSB2YWx1ZT17dmFsdWV9IG9uQ2hhbmdlPXsoZSk9PiBzZXRWYWx1ZShlLmN1cnJlbnRUYXJnZXQudmFsdWUpfSBuYW1lPVwiXCIgaWQ9XCJcIiAvPlxuICAgICAgPC9mb3JtPlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAubWFpbl9jb250e1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgdWx7XG4gICAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgICAgICAgcGFkZGluZzogNDVweCAyMHB4IDBweDtcbiAgICAgICAgfVxuICAgICAgICB1bDo6LXdlYmtpdC1zY3JvbGxiYXJ7XG4gICAgICAgICAgd2lkdGg6IDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybXtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgYmFja2dyb3VuZDogJHtjb2xvci5wcmltfTtcbiAgICAgICAgICBwYWRkaW5nOiAuNXJlbTtcbiAgICAgICAgfVxuICAgICAgICB0ZXh0YXJlYXtcbiAgICAgICAgICByZXNpemU6IG5vbmU7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7Y29sb3Iuc2VjfTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b257XG4gICAgICAgICAgbWFyZ2luLXRvcDogLjVyZW07XG4gICAgICAgICAgYWxpZ24tc2VsZjogZmxleC1lbmQ7XG4gICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgYm9yZGVyOiAycHggc29saWQgJHtjb2xvci5saWdodH07XG4gICAgICAgICAgY29sb3I6ICR7Y29sb3IubGlnaHR9O1xuICAgICAgICAgIHRyYW5zaXRpb246IDI1MG1zIGVhc2U7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uOmZvY3Vze1xuICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uOmhvdmVye1xuICAgICAgICAgIGJhY2tncm91bmQ6ICR7Y29sb3Iuc2VjfTtcbiAgICAgICAgfVxuICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29tbWVudDtcbiJdfQ== */\n/*@ sourceURL=/home/felix/Documentos/projects/greenlink/components/greenpost/comment.jsx */`));\n};\n\nconst Comment = () => {\n  const dispatch = useDispatch();\n  const comments = useSelector(state => state.greenpost.current.comments);\n  const {\n    0: value,\n    1: setValue\n  } = useState('');\n  const {\n    0: disable,\n    1: setDisable\n  } = useState(false);\n  const input = useRef(null);\n  const scroll = useRef(null);\n  const pid = useSelector(state => state.greenpost.current._id);\n  useEffect(() => {\n    const socket = io();\n    socket.open();\n    socket.on(`green:${pid}`, newComment => {\n      console.log(newComment);\n      dispatch({\n        type: ON_GREEN_COMMENT,\n        comment: newComment\n      });\n      scroll.current.scrollTo(0, scroll.current.scrollHeight);\n    });\n    return () => socket.close();\n  }, [comments]);\n  useEffect(() => {\n    scroll.current.scrollTo(0, scroll.current.scrollHeight);\n    input.current.focus();\n  }, [comments]);\n\n  const onSubmit = async e => {\n    try {\n      if (e.keyCode === 13 && e.shiftKey === false) {\n        e.preventDefault();\n        setDisable(true);\n        const data = {\n          comment: value,\n          pid\n        };\n        const res = await axios.post('/green/comment/add', data);\n        setDisable(false);\n        setValue('');\n        input.current.focus();\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2967572591\", [color.prim, color.sec, color.light, color.light, color.sec]]]) + \" \" + \"main_cont animated fadeIn\"\n  }, __jsx(\"ul\", {\n    ref: scroll,\n    className: _JSXStyle.dynamic([[\"2967572591\", [color.prim, color.sec, color.light, color.light, color.sec]]])\n  }, comments.map(comment => __jsx(CommentList, _extends({}, comment, {\n    key: uuid()\n  })))), __jsx(\"form\", {\n    onSubmit: onSubmit,\n    className: _JSXStyle.dynamic([[\"2967572591\", [color.prim, color.sec, color.light, color.light, color.sec]]])\n  }, __jsx(\"textarea\", {\n    disabled: disable,\n    onKeyDown: onSubmit,\n    ref: input,\n    value: value,\n    onChange: e => setValue(e.currentTarget.value),\n    name: \"\",\n    id: \"\",\n    className: _JSXStyle.dynamic([[\"2967572591\", [color.prim, color.sec, color.light, color.light, color.sec]]])\n  })), __jsx(_JSXStyle, {\n    id: \"2967572591\",\n    dynamic: [color.prim, color.sec, color.light, color.light, color.sec]\n  }, `.main_cont.__jsx-style-dynamic-selector{height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}ul.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;list-style:none;margin:0;padding:0;width:100%;height:100%;overflow-y:scroll;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:45px 20px 0px;}ul.__jsx-style-dynamic-selector::-webkit-scrollbar{width:0;}form.__jsx-style-dynamic-selector{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background:${color.prim};padding:.5rem;}textarea.__jsx-style-dynamic-selector{resize:none;border-radius:2px;border:1px solid ${color.sec};}button.__jsx-style-dynamic-selector{margin-top:.5rem;-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;background:transparent;border:2px solid ${color.light};color:${color.light};-webkit-transition:250ms ease;transition:250ms ease;}button.__jsx-style-dynamic-selector:focus{outline:none;}button.__jsx-style-dynamic-selector:hover{background:${color.sec};}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZlbGl4L0RvY3VtZW50b3MvcHJvamVjdHMvZ3JlZW5saW5rL2NvbXBvbmVudHMvZ3JlZW5wb3N0L2NvbW1lbnQuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTRHa0IsQUFHdUIsQUFNQSxBQWFKLEFBR0csQUFPQyxBQUtLLEFBUUosQUFHMkIsUUF6QjFDLEdBR2UsQ0F0QkYsQUE2Qk8sQ0FhcEIsSUFSc0IsTUFqQ1AsT0E2QmlDLFVBZWhELCtCQXZDa0IsS0F5QmxCLFNBUndCLEVBaEJiLEVBNEJjLE9BM0JiLENBTlksU0FPWCxNQTJCbUMsS0ExQmxDLFlBQ00sa0JBQ0wsV0F5QnNCLEtBYkssWUFyQjFDLGtCQW1Dd0IsVUFiUixjQUNoQixJQWJ3Qix3QkEwQnhCLHNEQXpCeUIsNkdBQ0Qsc0JBQ3hCIiwiZmlsZSI6Ii9ob21lL2ZlbGl4L0RvY3VtZW50b3MvcHJvamVjdHMvZ3JlZW5saW5rL2NvbXBvbmVudHMvZ3JlZW5wb3N0L2NvbW1lbnQuanN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVNlbGVjdG9yLCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IE9OX0dSRUVOX0NPTU1FTlQgfSBmcm9tICcuLi8uLi9zdG9yZS9hY3Rpb25zJztcbmltcG9ydCB1dWlkIGZyb20gJ3V1aWQvdjEnO1xuaW1wb3J0IHsgY29sb3IgfSBmcm9tICcuLi8uLi9sYXlvdXQvdmFyJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgaW8gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7XG5cbmNvbnN0IENvbW1lbnRMaXN0ID0gKHsgY29tbWVudCwgcGVyZmlsSW1nLCBmdWxsTmFtZSB9KSA9PiB7XG4gIGNvbnN0IG93bmVyID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUudXNlci5vd25lcik7XG4gIHJldHVybihcbiAgICA8bGkgY2xhc3NOYW1lPVwic2hhZG93XCI+XG4gICAgICA8ZGl2PlxuICAgICAgICA8aW1nIHNyYz17cGVyZmlsSW1nfSBhbHQ9XCJcIi8+XG4gICAgICAgIDxzbWFsbD57ZnVsbE5hbWV9PC9zbWFsbD5cbiAgICAgIDwvZGl2PlxuICAgICAgPHA+e2NvbW1lbnR9PC9wPlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgIGxpe1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IC41cmVtO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICAgICAgICBtaW4td2lkdGg6IDIwJTtcbiAgICAgICAgICAgIGJvcmRlci1sZWZ0OiA1cHggc29saWQgJHtvd25lciA/IGNvbG9yLnByaW0gOiBcIiNiYmJcIn07XG4gICAgICAgICAgfVxuICAgICAgICAgIHB7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICBwYWRkaW5nOiAuM3JlbTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGl2e1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgYmFja2dyb3VuZDogJHtjb2xvci5kYXJrfTtcbiAgICAgICAgICAgIHBhZGRpbmc6IC4ycmVtO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzbWFsbHtcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAuMnJlbTtcbiAgICAgICAgICAgIGNvbG9yOiAke2NvbG9yLmxpZ2h0fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW1ne1xuICAgICAgICAgICAgd2lkdGg6IDI1cHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDI1cHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICAgICAgICAgIG9iamVjdC1wb3NpdGlvbjogY2VudGVyO1xuICAgICAgICAgIH1cbiAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvbGk+XG4gICk7XG59XG5cbmNvbnN0IENvbW1lbnQgPSAoKSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgY29uc3QgY29tbWVudHMgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5ncmVlbnBvc3QuY3VycmVudC5jb21tZW50cyk7XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbZGlzYWJsZSwgc2V0RGlzYWJsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGlucHV0ID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBzY3JvbGwgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHBpZCA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLmdyZWVucG9zdC5jdXJyZW50Ll9pZCk7XG5cbiAgdXNlRWZmZWN0KCgpPT4ge1xuICAgIGNvbnN0IHNvY2tldCA9IGlvKCk7XG4gICAgc29ja2V0Lm9wZW4oKTtcbiAgICBzb2NrZXQub24oYGdyZWVuOiR7cGlkfWAsIChuZXdDb21tZW50KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhuZXdDb21tZW50KTtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogT05fR1JFRU5fQ09NTUVOVCwgY29tbWVudDogbmV3Q29tbWVudCB9KTtcbiAgICAgIHNjcm9sbC5jdXJyZW50LnNjcm9sbFRvKDAsIHNjcm9sbC5jdXJyZW50LnNjcm9sbEhlaWdodCk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpPT4gc29ja2V0LmNsb3NlKCk7XG4gIH0sW2NvbW1lbnRzXSk7XG5cbiAgdXNlRWZmZWN0KCgpPT4ge1xuICAgIHNjcm9sbC5jdXJyZW50LnNjcm9sbFRvKDAsIHNjcm9sbC5jdXJyZW50LnNjcm9sbEhlaWdodCk7XG4gICAgaW5wdXQuY3VycmVudC5mb2N1cygpO1xuICB9LFtjb21tZW50c10pO1xuXG4gIGNvbnN0IG9uU3VibWl0ID0gYXN5bmMoZSkgPT4ge1xuICAgIHRyeXtcbiAgICAgIGlmKGUua2V5Q29kZSA9PT0gMTMgJiYgZS5zaGlmdEtleSA9PT0gZmFsc2Upe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHNldERpc2FibGUodHJ1ZSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgY29tbWVudDogdmFsdWUsXG4gICAgICAgICAgcGlkLFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLnBvc3QoJy9ncmVlbi9jb21tZW50L2FkZCcsIGRhdGEpO1xuICAgICAgICBzZXREaXNhYmxlKGZhbHNlKTtcbiAgICAgICAgc2V0VmFsdWUoJycpO1xuICAgICAgICBpbnB1dC5jdXJyZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfWNhdGNoKGVycil7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybihcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW5fY29udCBhbmltYXRlZCBmYWRlSW5cIj5cbiAgICAgIDx1bCByZWY9e3Njcm9sbH0+XG4gICAgICAgIHtcbiAgICAgICAgICBjb21tZW50cy5tYXAoY29tbWVudCA9PiA8Q29tbWVudExpc3Qgey4uLmNvbW1lbnR9IGtleT17dXVpZCgpfSAvPilcbiAgICAgICAgfVxuICAgICAgPC91bD5cbiAgICAgIDxmb3JtIG9uU3VibWl0PXtvblN1Ym1pdH0+XG4gICAgICAgIDx0ZXh0YXJlYSBkaXNhYmxlZD17ZGlzYWJsZX0gb25LZXlEb3duPXtvblN1Ym1pdH0gcmVmPXtpbnB1dH0gdmFsdWU9e3ZhbHVlfSBvbkNoYW5nZT17KGUpPT4gc2V0VmFsdWUoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKX0gbmFtZT1cIlwiIGlkPVwiXCIgLz5cbiAgICAgIDwvZm9ybT5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgLm1haW5fY29udHtcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIHVse1xuICAgICAgICAgIGZsZXgtZ3JvdzogMTtcbiAgICAgICAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgICAgICAgIHBhZGRpbmc6IDQ1cHggMjBweCAwcHg7XG4gICAgICAgIH1cbiAgICAgICAgdWw6Oi13ZWJraXQtc2Nyb2xsYmFye1xuICAgICAgICAgIHdpZHRoOiAwO1xuICAgICAgICB9XG4gICAgICAgIGZvcm17XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIGJhY2tncm91bmQ6ICR7Y29sb3IucHJpbX07XG4gICAgICAgICAgcGFkZGluZzogLjVyZW07XG4gICAgICAgIH1cbiAgICAgICAgdGV4dGFyZWF7XG4gICAgICAgICAgcmVzaXplOiBub25lO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAke2NvbG9yLnNlY307XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9ue1xuICAgICAgICAgIG1hcmdpbi10b3A6IC41cmVtO1xuICAgICAgICAgIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xuICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICR7Y29sb3IubGlnaHR9O1xuICAgICAgICAgIGNvbG9yOiAke2NvbG9yLmxpZ2h0fTtcbiAgICAgICAgICB0cmFuc2l0aW9uOiAyNTBtcyBlYXNlO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbjpmb2N1c3tcbiAgICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbjpob3ZlcntcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAke2NvbG9yLnNlY307XG4gICAgICAgIH1cbiAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbW1lbnQ7XG4iXX0= */\n/*@ sourceURL=/home/felix/Documentos/projects/greenlink/components/greenpost/comment.jsx */`));\n};\n\nexport default Comment;","map":{"version":3,"sources":["/home/felix/Documentos/projects/greenlink/components/greenpost/comment.jsx"],"names":["React","useState","useEffect","useRef","useSelector","useDispatch","ON_GREEN_COMMENT","uuid","color","axios","io","CommentList","comment","perfilImg","fullName","owner","state","user","prim","dark","light","Comment","dispatch","comments","greenpost","current","value","setValue","disable","setDisable","input","scroll","pid","_id","socket","open","on","newComment","console","log","type","scrollTo","scrollHeight","close","focus","onSubmit","e","keyCode","shiftKey","preventDefault","data","res","post","err","sec","map","currentTarget"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ON_GREEN_COMMENT } from '../../store/actions';\nimport uuid from 'uuid/v1';\nimport { color } from '../../layout/var';\nimport axios from 'axios';\nimport io from 'socket.io-client';\n\nconst CommentList = ({ comment, perfilImg, fullName }) => {\n  const owner = useSelector(state => state.user.owner);\n  return(\n    <li className=\"shadow\">\n      <div>\n        <img src={perfilImg} alt=\"\"/>\n        <small>{fullName}</small>\n      </div>\n      <p>{comment}</p>\n      <style jsx>{`\n          li{\n            display: flex;\n            margin-top: .5rem;\n            align-items: center;\n            background: #fff;\n            min-width: 20%;\n            border-left: 5px solid ${owner ? color.prim : \"#bbb\"};\n          }\n          p{\n            margin: 0;\n            padding: .3rem;\n          }\n          div{\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            background: ${color.dark};\n            padding: .2rem;\n          }\n          small{\n            margin-left: .2rem;\n            color: ${color.light};\n          }\n          img{\n            width: 25px;\n            height: 25px;\n            border-radius: 50%;\n            object-fit: cover;\n            object-position: center;\n          }\n      `}\n      </style>\n    </li>\n  );\n}\n\nconst Comment = () => {\n  const dispatch = useDispatch();\n  const comments = useSelector(state => state.greenpost.current.comments);\n  const [value, setValue] = useState('');\n  const [disable, setDisable] = useState(false);\n  const input = useRef(null);\n  const scroll = useRef(null);\n  const pid = useSelector(state => state.greenpost.current._id);\n\n  useEffect(()=> {\n    const socket = io();\n    socket.open();\n    socket.on(`green:${pid}`, (newComment) => {\n      console.log(newComment);\n      dispatch({ type: ON_GREEN_COMMENT, comment: newComment });\n      scroll.current.scrollTo(0, scroll.current.scrollHeight);\n    });\n    return ()=> socket.close();\n  },[comments]);\n\n  useEffect(()=> {\n    scroll.current.scrollTo(0, scroll.current.scrollHeight);\n    input.current.focus();\n  },[comments]);\n\n  const onSubmit = async(e) => {\n    try{\n      if(e.keyCode === 13 && e.shiftKey === false){\n        e.preventDefault();\n        setDisable(true);\n        const data = {\n          comment: value,\n          pid,\n        }\n        const res = await axios.post('/green/comment/add', data);\n        setDisable(false);\n        setValue('');\n        input.current.focus();\n      }\n    }catch(err){\n      console.log(err);\n    }\n  }\n\n  return(\n    <div className=\"main_cont animated fadeIn\">\n      <ul ref={scroll}>\n        {\n          comments.map(comment => <CommentList {...comment} key={uuid()} />)\n        }\n      </ul>\n      <form onSubmit={onSubmit}>\n        <textarea disabled={disable} onKeyDown={onSubmit} ref={input} value={value} onChange={(e)=> setValue(e.currentTarget.value)} name=\"\" id=\"\" />\n      </form>\n      <style jsx>{`\n        .main_cont{\n          height: 100%;\n          width: 100%;\n          display: flex;\n          flex-direction: column;\n        }\n        ul{\n          flex-grow: 1;\n          list-style: none;\n          margin: 0;\n          padding: 0;\n          width: 100%;\n          height: 100%;\n          overflow-y: scroll;\n          display: flex;\n          flex-direction: column;\n          align-items: flex-start;\n          padding: 45px 20px 0px;\n        }\n        ul::-webkit-scrollbar{\n          width: 0;\n        }\n        form{\n          width: 100%;\n          display: flex;\n          flex-direction: column;\n          background: ${color.prim};\n          padding: .5rem;\n        }\n        textarea{\n          resize: none;\n          border-radius: 2px;\n          border: 1px solid ${color.sec};\n        }\n        button{\n          margin-top: .5rem;\n          align-self: flex-end;\n          background: transparent;\n          border: 2px solid ${color.light};\n          color: ${color.light};\n          transition: 250ms ease;\n        }\n        button:focus{\n          outline: none;\n        }\n        button:hover{\n          background: ${color.sec};\n        }\n      `}\n      </style>\n    </div>\n  )\n}\n\nexport default Comment;\n"]},"metadata":{},"sourceType":"module"}