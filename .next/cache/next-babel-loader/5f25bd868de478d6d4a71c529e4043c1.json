{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ON_CHAT_FRIEND, ON_CHAT_PRIVATE, ON_CHAT_MINIMIZE, ON_CHAT_ALERT } from '../../store/actions';\nimport { color } from '../../layout/var';\nimport uuid from 'uuid/v1';\nimport persons from '../../test/persons';\nimport io from 'socket.io-client';\nimport axios from 'axios'; //const friends = persons(8);\n\nconst Friend = ({\n  perfilImg,\n  fullName,\n  _id,\n  url,\n  chatHistory\n}) => {\n  const dispatch = useDispatch();\n  const privates = useSelector(state => state.chat.privates);\n  const cuid = useSelector(state => state.nav.notifications.id);\n  useEffect(() => {\n    const user = {\n      perfilImg,\n      fullName,\n      _id,\n      url,\n      chatHistory,\n      minimize: false,\n      anAlert: false\n    };\n    const socket = io();\n    socket.open();\n    socket.on(`notification:${cuid}`, _id => {\n      const isOpen = privates.find(user => user._id === _id);\n      console.log(_id);\n\n      if (isOpen && isOpen.minimize) {\n        dispatch({\n          type: ON_CHAT_ALERT,\n          _id,\n          option: true\n        });\n      } else {\n        dispatch({\n          type: ON_CHAT_PRIVATE,\n          user\n        });\n      }\n    });\n  });\n\n  const onPrivate = () => {\n    try {\n      const user = {\n        perfilImg,\n        fullName,\n        _id,\n        url,\n        chatHistory,\n        minimize: false,\n        anAlert: false\n      };\n      const isOpen = privates.find(user => user._id === _id);\n\n      if (isOpen) {\n        dispatch({\n          type: ON_CHAT_MINIMIZE,\n          _id,\n          option: false\n        });\n      } else {\n        dispatch({\n          type: ON_CHAT_PRIVATE,\n          user\n        });\n      }\n\n      setTimeout(() => document.getElementById(_id).focus(), 200);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return __jsx(\"button\", {\n    onClick: onPrivate,\n    type: \"button\",\n    className: _JSXStyle.dynamic([[\"1182382733\", [color.prim, color.light, color.sec, color.dark, color.dark]]])\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1182382733\", [color.prim, color.light, color.sec, color.dark, color.dark]]])\n  }, __jsx(\"img\", {\n    src: perfilImg,\n    alt: \"\",\n    className: _JSXStyle.dynamic([[\"1182382733\", [color.prim, color.light, color.sec, color.dark, color.dark]]])\n  })), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1182382733\", [color.prim, color.light, color.sec, color.dark, color.dark]]])\n  }, fullName), __jsx(_JSXStyle, {\n    id: \"1182382733\",\n    dynamic: [color.prim, color.light, color.sec, color.dark, color.dark]\n  }, `button.__jsx-style-dynamic-selector{background:transparent;border:none;-webkit-transition:250ms ease;transition:250ms ease;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0;border:1px solid rgba(139,185,64,.4);width:100%;text-transform:capitalize;}button.__jsx-style-dynamic-selector:outline{outline:none;}button.__jsx-style-dynamic-selector:hover{background:${color.prim};color:${color.light};border-color:${color.sec};}p.__jsx-style-dynamic-selector{margin:0;color:${color.dark};margin-left:.5rem;}div.__jsx-style-dynamic-selector{background:${color.dark};width:55px;height:45px;border-left:8px solid rgba(255,255,255,.4);}img.__jsx-style-dynamic-selector{width:40px;height:40px;object-fit:cover;object-position:center;border-radius:50%;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZlbGl4L0RvY3VtZW50b3MvcHJvamVjdHMvZ3JlZW5saW5rL2NvbXBvbmVudHMvY2hhdC9mcmllbmRzLmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFpRWtCLEFBR2tDLEFBWVYsQUFHMkIsQUFLL0IsQUFLK0IsQUFNN0IsU0FWd0IsRUFXdkIsRUFuQmQsVUFaYyxBQWdDSyxZQS9CSyxLQWNhLEFBVXhCLEFBUVksSUFaTCxPQUtOLFdBSmQsQ0FLZ0QsQUFPNUIsWUFsQndCLE1BbUI1QyxNQWpDZSxtQkEwQmYsV0FYQSw0Q0FkNkIseUdBQ1IsNkZBQ1QsVUFDOEIscUNBQzdCLFdBQ2UsMEJBQzVCIiwiZmlsZSI6Ii9ob21lL2ZlbGl4L0RvY3VtZW50b3MvcHJvamVjdHMvZ3JlZW5saW5rL2NvbXBvbmVudHMvY2hhdC9mcmllbmRzLmpzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgT05fQ0hBVF9GUklFTkQsIE9OX0NIQVRfUFJJVkFURSwgT05fQ0hBVF9NSU5JTUlaRSwgT05fQ0hBVF9BTEVSVCB9IGZyb20gJy4uLy4uL3N0b3JlL2FjdGlvbnMnO1xuaW1wb3J0IHsgY29sb3IgfSBmcm9tICcuLi8uLi9sYXlvdXQvdmFyJztcbmltcG9ydCB1dWlkIGZyb20gJ3V1aWQvdjEnO1xuaW1wb3J0IHBlcnNvbnMgZnJvbSAnLi4vLi4vdGVzdC9wZXJzb25zJztcbmltcG9ydCBpbyBmcm9tICdzb2NrZXQuaW8tY2xpZW50JztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbi8vY29uc3QgZnJpZW5kcyA9IHBlcnNvbnMoOCk7XG5cbmNvbnN0IEZyaWVuZCA9ICh7IHBlcmZpbEltZywgZnVsbE5hbWUsIF9pZCwgdXJsLCBjaGF0SGlzdG9yeSAgfSkgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IHByaXZhdGVzID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuY2hhdC5wcml2YXRlcyk7XG4gIGNvbnN0IGN1aWQgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5uYXYubm90aWZpY2F0aW9ucy5pZCk7XG4gIHVzZUVmZmVjdCgoKT0+IHtcbiAgICBjb25zdCB1c2VyID0ge1xuICAgICAgcGVyZmlsSW1nLFxuICAgICAgZnVsbE5hbWUsXG4gICAgICBfaWQsXG4gICAgICB1cmwsXG4gICAgICBjaGF0SGlzdG9yeSxcbiAgICAgIG1pbmltaXplOiBmYWxzZSxcbiAgICAgIGFuQWxlcnQ6IGZhbHNlLFxuICAgIH1cbiAgICBjb25zdCBzb2NrZXQgPSBpbygpO1xuICAgIHNvY2tldC5vcGVuKCk7XG4gICAgc29ja2V0Lm9uKGBub3RpZmljYXRpb246JHtjdWlkfWAsIChfaWQpID0+e1xuICAgICAgY29uc3QgaXNPcGVuID0gcHJpdmF0ZXMuZmluZCh1c2VyID0+IHVzZXIuX2lkID09PSBfaWQpO1xuICAgICAgY29uc29sZS5sb2coX2lkKTtcbiAgICAgIGlmKGlzT3BlbiAmJiBpc09wZW4ubWluaW1pemUgKXtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBPTl9DSEFUX0FMRVJULCBfaWQsIG9wdGlvbjogdHJ1ZSB9KTtcbiAgICAgIH0gZWxzZXtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBPTl9DSEFUX1BSSVZBVEUsIHVzZXIgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KVxuICBjb25zdCBvblByaXZhdGUgPSAoKSA9PiB7XG4gICAgdHJ5e1xuICAgICAgY29uc3QgdXNlciA9IHtcbiAgICAgICAgcGVyZmlsSW1nLFxuICAgICAgICBmdWxsTmFtZSxcbiAgICAgICAgX2lkLFxuICAgICAgICB1cmwsXG4gICAgICAgIGNoYXRIaXN0b3J5LFxuICAgICAgICBtaW5pbWl6ZTogZmFsc2UsXG4gICAgICAgIGFuQWxlcnQ6IGZhbHNlLFxuICAgICAgfVxuICAgICAgY29uc3QgaXNPcGVuID0gcHJpdmF0ZXMuZmluZCh1c2VyID0+IHVzZXIuX2lkID09PSBfaWQpO1xuICAgICAgaWYoaXNPcGVuKXtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBPTl9DSEFUX01JTklNSVpFLCBfaWQsIG9wdGlvbjogZmFsc2UgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IE9OX0NIQVRfUFJJVkFURSwgdXNlciB9KTtcbiAgICAgIH1cbiAgICAgIHNldFRpbWVvdXQoKCk9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChfaWQpLmZvY3VzKCksIDIwMCk7XG4gICAgfWNhdGNoKGVycil7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4oXG4gICAgPGJ1dHRvbiBvbkNsaWNrPXtvblByaXZhdGV9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxpbWcgc3JjPXtwZXJmaWxJbWd9IGFsdD1cIlwiLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPHA+e2Z1bGxOYW1lfTwvcD5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgYnV0dG9ue1xuICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICB0cmFuc2l0aW9uOiAyNTBtcyBlYXNlO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDEzOSwgMTg1LCA2NCwgLjQpO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbjpvdXRsaW5le1xuICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uOmhvdmVye1xuICAgICAgICAgIGJhY2tncm91bmQ6ICR7Y29sb3IucHJpbX07XG4gICAgICAgICAgY29sb3I6ICR7Y29sb3IubGlnaHR9O1xuICAgICAgICAgIGJvcmRlci1jb2xvcjogJHtjb2xvci5zZWN9O1xuICAgICAgICB9XG4gICAgICAgIHB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIGNvbG9yOiAke2NvbG9yLmRhcmt9O1xuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAuNXJlbTtcbiAgICAgICAgfVxuICAgICAgICBkaXZ7XG4gICAgICAgICAgYmFja2dyb3VuZDogJHtjb2xvci5kYXJrfTtcbiAgICAgICAgICB3aWR0aDogNTVweDtcbiAgICAgICAgICBoZWlnaHQ6IDQ1cHg7XG4gICAgICAgICAgYm9yZGVyLWxlZnQ6IDhweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIC40KTtcbiAgICAgICAgfVxuICAgICAgICBpbWd7XG4gICAgICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgICAgICAgIG9iamVjdC1wb3NpdGlvbjogY2VudGVyO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgfVxuICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9idXR0b24+XG4gICk7XG59XG5cbmNvbnN0IEZyaWVuZHMgPSAoKSA9PiB7XG4gIGNvbnN0IFtmcmllbmRzLCBzZXRGcmllbmRzXSA9IHVzZVN0YXRlKFtdKTtcblxuICBjb25zdCBhbGwgPSBhc3luYygpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KCcvY2hhdC9hbGwnKTtcbiAgICAgIHNldEZyaWVuZHMocmVzLmRhdGEpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIH1cbiAgfVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGFsbCgpO1xuICB9LFtdKVxuICByZXR1cm4oXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtYWluXCI+XG4gICAgICA8aGVhZGVyPmNoYXQ8L2hlYWRlcj5cbiAgICAgIDx1bD5cbiAgICAgICAge1xuICAgICAgICAgIGZyaWVuZHMubWFwKChmcmllbmQpID0+IDxsaSBrZXk9e3V1aWQoKX0+PEZyaWVuZCB7Li4uZnJpZW5kfSAvPjwvbGk+KVxuICAgICAgICB9XG4gICAgICA8L3VsPlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAubWFpbntcbiAgICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA0MHB4KTtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMDcwKTtcbiAgICAgICAgICBwb3NpdGlvbjogc3RpY2t5O1xuICAgICAgICAgIHRvcDogNDJweDtcbiAgICAgICAgfVxuICAgICAgICBoZWFkZXJ7XG4gICAgICAgICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTtcbiAgICAgICAgICBmb250LXdlaWdodDogNTUwO1xuICAgICAgICAgIGJhY2tncm91bmQ6ICR7Y29sb3IucHJpbX07XG4gICAgICAgICAgcGFkZGluZzogLjVyZW07XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgIH1cbiAgICAgICAgdWx7XG4gICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA0MHB4KTtcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICAgICAgICBib3JkZXItbGVmdDogMnB4IHNvbGlkICR7Y29sb3Iuc2VjfTtcbiAgICAgICAgfVxuICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZyaWVuZHM7XG4iXX0= */\n/*@ sourceURL=/home/felix/Documentos/projects/greenlink/components/chat/friends.jsx */`));\n};\n\nconst Friends = () => {\n  const {\n    0: friends,\n    1: setFriends\n  } = useState([]);\n\n  const all = async () => {\n    try {\n      const res = await axios.get('/chat/all');\n      setFriends(res.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    all();\n  }, []);\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2226638880\", [color.prim, color.sec]]]) + \" \" + \"main\"\n  }, __jsx(\"header\", {\n    className: _JSXStyle.dynamic([[\"2226638880\", [color.prim, color.sec]]])\n  }, \"chat\"), __jsx(\"ul\", {\n    className: _JSXStyle.dynamic([[\"2226638880\", [color.prim, color.sec]]])\n  }, friends.map(friend => __jsx(\"li\", {\n    key: uuid(),\n    className: _JSXStyle.dynamic([[\"2226638880\", [color.prim, color.sec]]])\n  }, __jsx(Friend, friend)))), __jsx(_JSXStyle, {\n    id: \"2226638880\",\n    dynamic: [color.prim, color.sec]\n  }, `.main.__jsx-style-dynamic-selector{height:calc(100vh - 40px);background:rgba(0,0,0,0.070);position:-webkit-sticky;position:sticky;top:42px;}header.__jsx-style-dynamic-selector{color:rgba(255,255,255,0.7);font-weight:550;background:${color.prim};padding:.5rem;text-align:center;text-transform:uppercase;}ul.__jsx-style-dynamic-selector{list-style:none;padding:0;margin:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:calc(100% - 40px);overflow:hidden;overflow-y:scroll;border-left:2px solid ${color.sec};}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZlbGl4L0RvY3VtZW50b3MvcHJvamVjdHMvZ3JlZW5saW5rL2NvbXBvbmVudHMvY2hhdC9mcmllbmRzLmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFvSWtCLEFBR3FDLEFBTUssQUFRZixnQkFDTixVQWRzQixBQWV2QixFQVRPLE9BVUgsU0FUMkIsV0FOeEIsNkJBT0YsV0FOTCxHQU9TLE1BTnBCLEtBY3dCLE9BUEcseUJBQzNCLDhDQU8yQix5QkFDVCxnQkFDRSxrQkFDaUMsbURBQ3JEIiwiZmlsZSI6Ii9ob21lL2ZlbGl4L0RvY3VtZW50b3MvcHJvamVjdHMvZ3JlZW5saW5rL2NvbXBvbmVudHMvY2hhdC9mcmllbmRzLmpzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgT05fQ0hBVF9GUklFTkQsIE9OX0NIQVRfUFJJVkFURSwgT05fQ0hBVF9NSU5JTUlaRSwgT05fQ0hBVF9BTEVSVCB9IGZyb20gJy4uLy4uL3N0b3JlL2FjdGlvbnMnO1xuaW1wb3J0IHsgY29sb3IgfSBmcm9tICcuLi8uLi9sYXlvdXQvdmFyJztcbmltcG9ydCB1dWlkIGZyb20gJ3V1aWQvdjEnO1xuaW1wb3J0IHBlcnNvbnMgZnJvbSAnLi4vLi4vdGVzdC9wZXJzb25zJztcbmltcG9ydCBpbyBmcm9tICdzb2NrZXQuaW8tY2xpZW50JztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbi8vY29uc3QgZnJpZW5kcyA9IHBlcnNvbnMoOCk7XG5cbmNvbnN0IEZyaWVuZCA9ICh7IHBlcmZpbEltZywgZnVsbE5hbWUsIF9pZCwgdXJsLCBjaGF0SGlzdG9yeSAgfSkgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IHByaXZhdGVzID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuY2hhdC5wcml2YXRlcyk7XG4gIGNvbnN0IGN1aWQgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5uYXYubm90aWZpY2F0aW9ucy5pZCk7XG4gIHVzZUVmZmVjdCgoKT0+IHtcbiAgICBjb25zdCB1c2VyID0ge1xuICAgICAgcGVyZmlsSW1nLFxuICAgICAgZnVsbE5hbWUsXG4gICAgICBfaWQsXG4gICAgICB1cmwsXG4gICAgICBjaGF0SGlzdG9yeSxcbiAgICAgIG1pbmltaXplOiBmYWxzZSxcbiAgICAgIGFuQWxlcnQ6IGZhbHNlLFxuICAgIH1cbiAgICBjb25zdCBzb2NrZXQgPSBpbygpO1xuICAgIHNvY2tldC5vcGVuKCk7XG4gICAgc29ja2V0Lm9uKGBub3RpZmljYXRpb246JHtjdWlkfWAsIChfaWQpID0+e1xuICAgICAgY29uc3QgaXNPcGVuID0gcHJpdmF0ZXMuZmluZCh1c2VyID0+IHVzZXIuX2lkID09PSBfaWQpO1xuICAgICAgY29uc29sZS5sb2coX2lkKTtcbiAgICAgIGlmKGlzT3BlbiAmJiBpc09wZW4ubWluaW1pemUgKXtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBPTl9DSEFUX0FMRVJULCBfaWQsIG9wdGlvbjogdHJ1ZSB9KTtcbiAgICAgIH0gZWxzZXtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBPTl9DSEFUX1BSSVZBVEUsIHVzZXIgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KVxuICBjb25zdCBvblByaXZhdGUgPSAoKSA9PiB7XG4gICAgdHJ5e1xuICAgICAgY29uc3QgdXNlciA9IHtcbiAgICAgICAgcGVyZmlsSW1nLFxuICAgICAgICBmdWxsTmFtZSxcbiAgICAgICAgX2lkLFxuICAgICAgICB1cmwsXG4gICAgICAgIGNoYXRIaXN0b3J5LFxuICAgICAgICBtaW5pbWl6ZTogZmFsc2UsXG4gICAgICAgIGFuQWxlcnQ6IGZhbHNlLFxuICAgICAgfVxuICAgICAgY29uc3QgaXNPcGVuID0gcHJpdmF0ZXMuZmluZCh1c2VyID0+IHVzZXIuX2lkID09PSBfaWQpO1xuICAgICAgaWYoaXNPcGVuKXtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBPTl9DSEFUX01JTklNSVpFLCBfaWQsIG9wdGlvbjogZmFsc2UgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IE9OX0NIQVRfUFJJVkFURSwgdXNlciB9KTtcbiAgICAgIH1cbiAgICAgIHNldFRpbWVvdXQoKCk9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChfaWQpLmZvY3VzKCksIDIwMCk7XG4gICAgfWNhdGNoKGVycil7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4oXG4gICAgPGJ1dHRvbiBvbkNsaWNrPXtvblByaXZhdGV9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxpbWcgc3JjPXtwZXJmaWxJbWd9IGFsdD1cIlwiLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPHA+e2Z1bGxOYW1lfTwvcD5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgYnV0dG9ue1xuICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICB0cmFuc2l0aW9uOiAyNTBtcyBlYXNlO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDEzOSwgMTg1LCA2NCwgLjQpO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbjpvdXRsaW5le1xuICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uOmhvdmVye1xuICAgICAgICAgIGJhY2tncm91bmQ6ICR7Y29sb3IucHJpbX07XG4gICAgICAgICAgY29sb3I6ICR7Y29sb3IubGlnaHR9O1xuICAgICAgICAgIGJvcmRlci1jb2xvcjogJHtjb2xvci5zZWN9O1xuICAgICAgICB9XG4gICAgICAgIHB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIGNvbG9yOiAke2NvbG9yLmRhcmt9O1xuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAuNXJlbTtcbiAgICAgICAgfVxuICAgICAgICBkaXZ7XG4gICAgICAgICAgYmFja2dyb3VuZDogJHtjb2xvci5kYXJrfTtcbiAgICAgICAgICB3aWR0aDogNTVweDtcbiAgICAgICAgICBoZWlnaHQ6IDQ1cHg7XG4gICAgICAgICAgYm9yZGVyLWxlZnQ6IDhweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIC40KTtcbiAgICAgICAgfVxuICAgICAgICBpbWd7XG4gICAgICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgICAgICAgIG9iamVjdC1wb3NpdGlvbjogY2VudGVyO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgfVxuICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9idXR0b24+XG4gICk7XG59XG5cbmNvbnN0IEZyaWVuZHMgPSAoKSA9PiB7XG4gIGNvbnN0IFtmcmllbmRzLCBzZXRGcmllbmRzXSA9IHVzZVN0YXRlKFtdKTtcblxuICBjb25zdCBhbGwgPSBhc3luYygpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KCcvY2hhdC9hbGwnKTtcbiAgICAgIHNldEZyaWVuZHMocmVzLmRhdGEpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIH1cbiAgfVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGFsbCgpO1xuICB9LFtdKVxuICByZXR1cm4oXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtYWluXCI+XG4gICAgICA8aGVhZGVyPmNoYXQ8L2hlYWRlcj5cbiAgICAgIDx1bD5cbiAgICAgICAge1xuICAgICAgICAgIGZyaWVuZHMubWFwKChmcmllbmQpID0+IDxsaSBrZXk9e3V1aWQoKX0+PEZyaWVuZCB7Li4uZnJpZW5kfSAvPjwvbGk+KVxuICAgICAgICB9XG4gICAgICA8L3VsPlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAubWFpbntcbiAgICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA0MHB4KTtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMDcwKTtcbiAgICAgICAgICBwb3NpdGlvbjogc3RpY2t5O1xuICAgICAgICAgIHRvcDogNDJweDtcbiAgICAgICAgfVxuICAgICAgICBoZWFkZXJ7XG4gICAgICAgICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTtcbiAgICAgICAgICBmb250LXdlaWdodDogNTUwO1xuICAgICAgICAgIGJhY2tncm91bmQ6ICR7Y29sb3IucHJpbX07XG4gICAgICAgICAgcGFkZGluZzogLjVyZW07XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgIH1cbiAgICAgICAgdWx7XG4gICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA0MHB4KTtcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICAgICAgICBib3JkZXItbGVmdDogMnB4IHNvbGlkICR7Y29sb3Iuc2VjfTtcbiAgICAgICAgfVxuICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZyaWVuZHM7XG4iXX0= */\n/*@ sourceURL=/home/felix/Documentos/projects/greenlink/components/chat/friends.jsx */`));\n};\n\nexport default Friends;","map":{"version":3,"sources":["/home/felix/Documentos/projects/greenlink/components/chat/friends.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","ON_CHAT_FRIEND","ON_CHAT_PRIVATE","ON_CHAT_MINIMIZE","ON_CHAT_ALERT","color","uuid","persons","io","axios","Friend","perfilImg","fullName","_id","url","chatHistory","dispatch","privates","state","chat","cuid","nav","notifications","id","user","minimize","anAlert","socket","open","on","isOpen","find","console","log","type","option","onPrivate","setTimeout","document","getElementById","focus","err","prim","light","sec","dark","Friends","friends","setFriends","all","res","get","data","e","map","friend"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ON_CHAT_FRIEND, ON_CHAT_PRIVATE, ON_CHAT_MINIMIZE, ON_CHAT_ALERT } from '../../store/actions';\nimport { color } from '../../layout/var';\nimport uuid from 'uuid/v1';\nimport persons from '../../test/persons';\nimport io from 'socket.io-client';\nimport axios from 'axios';\n\n//const friends = persons(8);\n\nconst Friend = ({ perfilImg, fullName, _id, url, chatHistory  }) => {\n  const dispatch = useDispatch();\n  const privates = useSelector(state => state.chat.privates);\n  const cuid = useSelector(state => state.nav.notifications.id);\n  useEffect(()=> {\n    const user = {\n      perfilImg,\n      fullName,\n      _id,\n      url,\n      chatHistory,\n      minimize: false,\n      anAlert: false,\n    }\n    const socket = io();\n    socket.open();\n    socket.on(`notification:${cuid}`, (_id) =>{\n      const isOpen = privates.find(user => user._id === _id);\n      console.log(_id);\n      if(isOpen && isOpen.minimize ){\n        dispatch({ type: ON_CHAT_ALERT, _id, option: true });\n      } else{\n        dispatch({ type: ON_CHAT_PRIVATE, user  });\n      }\n    });\n  })\n  const onPrivate = () => {\n    try{\n      const user = {\n        perfilImg,\n        fullName,\n        _id,\n        url,\n        chatHistory,\n        minimize: false,\n        anAlert: false,\n      }\n      const isOpen = privates.find(user => user._id === _id);\n      if(isOpen){\n        dispatch({ type: ON_CHAT_MINIMIZE, _id, option: false });\n      } else {\n        dispatch({ type: ON_CHAT_PRIVATE, user });\n      }\n      setTimeout(()=> document.getElementById(_id).focus(), 200);\n    }catch(err){\n      console.log(err);\n    }\n  }\n  return(\n    <button onClick={onPrivate} type=\"button\">\n      <div>\n        <img src={perfilImg} alt=\"\"/>\n      </div>\n      <p>{fullName}</p>\n      <style jsx>{`\n        button{\n          background: transparent;\n          border: none;\n          transition: 250ms ease;\n          display: flex;\n          justify-content: flex-start;\n          align-items: center;\n          padding: 0;\n          border: 1px solid rgba(139, 185, 64, .4);\n          width: 100%;\n          text-transform: capitalize;\n        }\n        button:outline{\n          outline: none;\n        }\n        button:hover{\n          background: ${color.prim};\n          color: ${color.light};\n          border-color: ${color.sec};\n        }\n        p{\n          margin: 0;\n          color: ${color.dark};\n          margin-left: .5rem;\n        }\n        div{\n          background: ${color.dark};\n          width: 55px;\n          height: 45px;\n          border-left: 8px solid rgba(255, 255, 255, .4);\n        }\n        img{\n          width: 40px;\n          height: 40px;\n          object-fit: cover;\n          object-position: center;\n          border-radius: 50%;\n        }\n      `}\n      </style>\n    </button>\n  );\n}\n\nconst Friends = () => {\n  const [friends, setFriends] = useState([]);\n\n  const all = async() => {\n    try {\n      const res = await axios.get('/chat/all');\n      setFriends(res.data);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n  useEffect(() => {\n    all();\n  },[])\n  return(\n    <div className=\"main\">\n      <header>chat</header>\n      <ul>\n        {\n          friends.map((friend) => <li key={uuid()}><Friend {...friend} /></li>)\n        }\n      </ul>\n      <style jsx>{`\n        .main{\n          height: calc(100vh - 40px);\n          background: rgba(0, 0, 0, 0.070);\n          position: sticky;\n          top: 42px;\n        }\n        header{\n          color: rgba(255, 255, 255, 0.7);\n          font-weight: 550;\n          background: ${color.prim};\n          padding: .5rem;\n          text-align: center;\n          text-transform: uppercase;\n        }\n        ul{\n          list-style: none;\n          padding: 0;\n          margin: 0;\n          display: flex;\n          flex-direction: column;\n          height: calc(100% - 40px);\n          overflow: hidden;\n          overflow-y: scroll;\n          border-left: 2px solid ${color.sec};\n        }\n      `}\n      </style>\n    </div>\n  );\n}\n\nexport default Friends;\n"]},"metadata":{},"sourceType":"module"}