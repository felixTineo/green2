{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUserPlus, faUserCheck, faUserClock, faHeart, faGift, faComment } from '@fortawesome/free-solid-svg-icons';\nimport './home.scss';\nimport axios from 'axios';\n\nvar GreenInfoIcon = function GreenInfoIcon(_ref) {\n  var icon = _ref.icon,\n      info = _ref.info;\n  return __jsx(\"li\", {\n    className: \"greenicon_info_cont\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: icon\n  }), __jsx(\"p\", null, info));\n};\n\nvar BtnFriend = function BtnFriend() {\n  var user = useSelector(function (state) {\n    return state.user;\n  });\n  var id = useSelector(function (state) {\n    return state.nav.notifications.id;\n  });\n\n  var _useState = useState(0),\n      status = _useState[0],\n      setStatus = _useState[1];\n\n  var sendFriend =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"/friend/send/\".concat(user._id));\n\n            case 3:\n              setStatus(1);\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 6]]);\n    }));\n\n    return function sendFriend() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var acceptFriend =\n  /*#__PURE__*/\n  function () {\n    var _ref3 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.get(\"/friend/accept/\".concat(user._id));\n\n            case 3:\n              setStatus(0);\n              _context2.next = 9;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 6]]);\n    }));\n\n    return function acceptFriend() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var cancelFriend =\n  /*#__PURE__*/\n  function () {\n    var _ref4 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return axios.get(\"/friend/cancel/\".concat(user._id));\n\n            case 3:\n              setStatus(null);\n              _context3.next = 9;\n              break;\n\n            case 6:\n              _context3.prev = 6;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log(_context3.t0);\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 6]]);\n    }));\n\n    return function cancelFriend() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    var friend = user.friends.find(function (friend) {\n      return friend._id === id;\n    });\n    var status = friend ? friend.status : null;\n    setStatus(status);\n  }, [id]);\n\n  switch (status) {\n    case 0:\n      return __jsx(\"button\", {\n        onClick: cancelFriend,\n        type: \"button\",\n        title: \"Eliminar amigo\"\n      }, __jsx(FontAwesomeIcon, {\n        icon: faUserCheck\n      }));\n\n    case 1:\n      return __jsx(\"button\", {\n        onClick: cancelFriend,\n        type: \"button\",\n        title: \"Cancelar solicitud de amistad\"\n      }, __jsx(FontAwesomeIcon, {\n        icon: faUserClock\n      }));\n\n    case 2:\n      return __jsx(\"button\", {\n        onClick: acceptFriend,\n        type: \"button\",\n        title: \"Aceptar solicitud de amistad\"\n      }, \"Aceptar\");\n\n    default:\n      return __jsx(\"button\", {\n        onClick: sendFriend,\n        type: \"button\",\n        title: \"Enviar solicitud de amistad\"\n      }, __jsx(FontAwesomeIcon, {\n        icon: faUserPlus\n      }));\n  }\n};\n\nvar GreenHome = function GreenHome() {\n  var user = useSelector(function (state) {\n    return state.user;\n  });\n  var greenpost = useSelector(function (state) {\n    return state.greenpost.current;\n  });\n  var name = user.name,\n      lastName = user.lastName,\n      perfilImg = user.perfilImg,\n      _id = user._id;\n  return __jsx(\"div\", {\n    className: \"greenhome_main_cont animated fadeIn\"\n  }, __jsx(\"div\", {\n    className: \"user_info\"\n  }, __jsx(\"img\", {\n    src: perfilImg,\n    alt: \"\"\n  }), __jsx(\"div\", {\n    className: \"user_name\"\n  }, __jsx(\"p\", null, __jsx(\"span\", null, name), \" \", lastName), !user.owner && __jsx(BtnFriend, null)), __jsx(\"ul\", null, __jsx(GreenInfoIcon, {\n    info: greenpost.likes.length,\n    icon: faHeart\n  }), __jsx(GreenInfoIcon, {\n    info: greenpost.comments.length,\n    icon: faComment\n  }), __jsx(GreenInfoIcon, {\n    info: greenpost.wish.found,\n    icon: faGift\n  })), __jsx(\"p\", null, user.greenPost.history)));\n};\n\nexport default GreenHome;","map":null,"metadata":{},"sourceType":"module"}