{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { color, font, greenGradient, greenBackground } from '../../layout/main';\nimport uuid from 'uuid/v1';\nimport Title from './title';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowLeft, faArrowRight, faHeart, faGift, faComment } from '@fortawesome/free-solid-svg-icons';\nimport AOS from 'aos';\nimport '../../node_modules/aos/src/sass/aos.scss';\nimport BtnPost from '../layout/btn-post';\nimport axios from 'axios';\n\nvar Post = function Post(_ref) {\n  var post = _ref.post;\n  var img = post.img,\n      title = post.title,\n      subTitle = post.subTitle,\n      date = post.date,\n      history = post.history,\n      author = post.author,\n      index = post.index;\n  var name = author.name,\n      lastName = author.lastName,\n      perfilImg = author.perfilImg,\n      url = author.url;\n  /*useEffect(()=> {\n    AOS.init();\n    return AOS.refresh();\n  },[])*/\n\n  return __jsx(BtnPost, {\n    post: post\n  }, __jsx(\"div\", {\n    className: \"jsx-1153746147\" + \" \" + \"main shadow\"\n  }, __jsx(\"header\", {\n    className: \"jsx-1153746147\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1153746147\" + \" \" + \"user\"\n  }, __jsx(\"img\", {\n    src: perfilImg,\n    alt: \"\",\n    className: \"jsx-1153746147\"\n  }), __jsx(\"p\", {\n    className: \"jsx-1153746147\"\n  }, \"\".concat(name, \" \").concat(lastName))), __jsx(\"div\", {\n    className: \"jsx-1153746147\" + \" \" + \"date\"\n  }, __jsx(\"p\", {\n    className: \"jsx-1153746147\"\n  }, new Date(date).toLocaleDateString()), __jsx(\"small\", {\n    className: \"jsx-1153746147\"\n  }, new Date(date).toLocaleTimeString()))), __jsx(\"div\", {\n    className: \"jsx-1153746147\" + \" \" + \"body\"\n  }, __jsx(\"img\", {\n    src: img,\n    alt: \"\",\n    className: \"jsx-1153746147\"\n  })), __jsx(\"footer\", {\n    className: \"jsx-1153746147\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1153746147\" + \" \" + \"title\"\n  }, __jsx(\"p\", {\n    className: \"jsx-1153746147\"\n  }, title), __jsx(\"small\", {\n    className: \"jsx-1153746147\"\n  }, subTitle)), __jsx(\"ul\", {\n    className: \"jsx-1153746147\" + \" \" + \"info\"\n  }, __jsx(\"li\", {\n    className: \"jsx-1153746147\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faHeart\n  }), \"+ 0\"), __jsx(\"li\", {\n    className: \"jsx-1153746147\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faGift\n  }), \"+ 0\"), __jsx(\"li\", {\n    className: \"jsx-1153746147\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faComment\n  }), __jsx(\"span\", {\n    className: \"jsx-1153746147\"\n  }, \"+ 0\")))), __jsx(_JSXStyle, {\n    id: \"1153746147\"\n  }, [\".main.jsx-1153746147{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;height:60vh;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \"header.jsx-1153746147{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:.5rem;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \"header.jsx-1153746147 .user.jsx-1153746147{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \"header.jsx-1153746147 .user.jsx-1153746147 img.jsx-1153746147{width:50px;height:50px;border-radius:50%;object-fit:cover;object-position:center;}\", \"header.jsx-1153746147 .user.jsx-1153746147 p.jsx-1153746147{margin:0;}\", \"header.jsx-1153746147 p.jsx-1153746147{margin:0;}\", \".body.jsx-1153746147{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \".body.jsx-1153746147 img.jsx-1153746147{width:100%;height:100%;object-fit:cover;object-position:center;}\", \"footer.jsx-1153746147{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:.5rem;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \"footer.jsx-1153746147 p.jsx-1153746147{margin:0;}\", \"footer.jsx-1153746147 .title.jsx-1153746147{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}\", \"footer.jsx-1153746147 .info.jsx-1153746147{list-style:none;margin:0;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \"li.jsx-1153746147{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:1rem;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \"li.jsx-1153746147:nth-child(2){margin:0 1rem;}\"])));\n};\n\nvar Main = function Main() {\n  var _useState = useState([]),\n      posts = _useState[0],\n      setPosts = _useState[1];\n\n  var onPosts =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get('/green/all');\n\n            case 3:\n              res = _context.sent;\n              setPosts(res.data);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function onPosts() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    onPosts();\n    var interval = setInterval(function () {\n      onPosts();\n    }, 60000);\n    return function () {\n      return clearInterval(interval);\n    };\n  }, []);\n  return __jsx(\"div\", {\n    className: \"jsx-1114587080\" + \" \" + \"main\"\n  }, console.log(posts), __jsx(Title, {\n    word: \"top greenpost's\"\n  }), __jsx(\"ul\", {\n    className: \"jsx-1114587080\" + \" \" + \"body\"\n  }, posts.map(function (post, index) {\n    return __jsx(\"li\", {\n      className: \"jsx-1114587080\"\n    }, __jsx(Post, {\n      index: index,\n      key: uuid(),\n      post: post\n    }));\n  })), __jsx(_JSXStyle, {\n    id: \"1114587080\"\n  }, [\".main.jsx-1114587080{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \".body.jsx-1114587080{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;list-style:none;margin:0;padding:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \"li.jsx-1114587080{width:80%;margin:1rem 0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \"@media(min-width:768px){.body.jsx-1114587080{padding:3rem;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}li.jsx-1114587080{margin:1.5rem 0;width:31%;}}\"]));\n};\n\nexport default Main;","map":null,"metadata":{},"sourceType":"module"}