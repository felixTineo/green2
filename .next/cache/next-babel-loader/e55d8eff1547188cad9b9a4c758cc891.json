{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useCallback, useState } from 'react';\nimport Logo from './logo';\nimport './header.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch, faGift, faHeart, faUser, faCog, faCoins, faBell } from '@fortawesome/free-solid-svg-icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { navView, ON_VIEW_NAV, ON_LOADER } from '../../store/actions';\nimport axios from 'axios';\nimport Link from 'next/link';\nimport { Popover, PopoverBody } from 'reactstrap';\nimport uuid from 'uuid/v1';\n\nvar DownBar = function DownBar() {\n  var _useState = useState(false),\n      down = _useState[0],\n      setDown = _useState[1];\n\n  useEffect(function () {\n    window.onscroll = function () {\n      if (window.scrollY > 30) {\n        setDown(true);\n      } else {\n        setDown(false);\n      }\n    };\n  }, []);\n  console.log(down);\n  return __jsx(\"div\", {\n    className: \"down_bar\",\n    style: {\n      height: down ? 40 : 0\n    }\n  });\n};\n\nvar SearchBar = function SearchBar() {\n  var testList = [\"felix\", \"luis\", \"maximiliano\", \"francisco\", 'teresa', 'yleana'];\n\n  var _useState2 = useState([]),\n      suggest = _useState2[0],\n      setSuggest = _useState2[1];\n\n  var onSuggest = function onSuggest(e) {\n    var value = e.target.value;\n\n    if (value) {\n      value.toLocaleLowerCase();\n\n      var _suggest = testList.filter(function (name) {\n        return name.toLocaleLowerCase().indexOf(value) > -1;\n      });\n\n      setSuggest(_suggest);\n    } else {\n      setSuggest([]);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"searchbar_main_cont\"\n  }, __jsx(\"div\", {\n    className: \"search_cont\"\n  }, __jsx(\"input\", {\n    onChange: onSuggest,\n    type: \"text\"\n  }), __jsx(\"p\", null, __jsx(FontAwesomeIcon, {\n    icon: faSearch\n  }))), __jsx(\"ul\", {\n    style: {\n      padding: suggest.length > 0 ? '.2rem' : '0'\n    },\n    className: \"sugesstlist\"\n  }, suggest.map(function (item) {\n    return __jsx(\"li\", null, item);\n  })));\n};\n\nvar Login = function Login() {\n  var _useState3 = useState(''),\n      mail = _useState3[0],\n      setMail = _useState3[1];\n\n  var _useState4 = useState(''),\n      pass = _useState4[0],\n      setPass = _useState4[1];\n\n  var onSubmit =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var data, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              data = {\n                mail: mail,\n                pass: pass\n              };\n              _context.next = 4;\n              return axios.post('/user/login', data);\n\n            case 4:\n              res = _context.sent;\n              console.log(res.data);\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function onSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: \"navlogin_main_cont\"\n  }, __jsx(\"form\", {\n    onSubmit: onSubmit\n  }, __jsx(\"label\", {\n    htmlFor: \"mail\"\n  }, \"usuario:\", __jsx(\"input\", {\n    id: \"mail\",\n    name: \"mail\",\n    value: mail,\n    onChange: function onChange(e) {\n      return setMail(e.currentTarget.value);\n    },\n    type: \"text\"\n  })), __jsx(\"label\", {\n    htmlFor: \"pass\"\n  }, \"contrase\\xF1a:\", __jsx(\"input\", {\n    id: \"pass\",\n    name: \"pass\",\n    value: pass,\n    onChange: function onChange(e) {\n      return setPass(e.currentTarget.value);\n    },\n    type: \"password\"\n  })), __jsx(\"button\", {\n    className: \"btn_login\",\n    type: \"submit\"\n  }, \"login\")));\n};\n\nvar Gift = function Gift() {\n  var gifts = useSelector(function (state) {\n    return state.nav.notifications.gifts;\n  });\n  var dispatch = useDispatch();\n  var onView = useCallback(function () {\n    dispatch({\n      type: ON_VIEW_NAV,\n      note: navView.GIFT\n    });\n  });\n  return __jsx(\"div\", {\n    className: \"btnicon_cont\"\n  }, __jsx(\"button\", {\n    id: \"gift\",\n    onClick: onView,\n    style: gifts.view && gifts.length > 0 ? {\n      background: \"#fff\",\n      color: \"#ff6c1a\"\n    } : {\n      background: \"transparent\",\n      color: \"#fff\"\n    },\n    className: \"btnicon_nav\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faGift\n  })), __jsx(\"span\", {\n    style: gifts.view && gifts.length > 0 ? {\n      color: \"#ff6c1a\"\n    } : {\n      color: \"#fff\"\n    }\n  }, \"+\", gifts.items.length));\n};\n\nvar Note = function Note() {\n  var notes = useSelector(function (state) {\n    return state.nav.notifications.notes;\n  });\n  var dispatch = useDispatch();\n  var onView = useCallback(function () {\n    dispatch({\n      type: ON_VIEW_NAV,\n      note: navView.NOTES\n    });\n  });\n\n  var _useState5 = useState(false),\n      pop = _useState5[0],\n      setPop = _useState5[1];\n\n  var handleView = function handleView() {\n    onView();\n    setPop(!pop);\n  };\n\n  var handleViewOut = function handleViewOut() {\n    setPop(false);\n  };\n\n  return __jsx(\"div\", {\n    className: \"btnicon_cont\"\n  }, __jsx(\"button\", {\n    id: \"note\",\n    onClick: handleView,\n    style: notes.view && notes.length > 0 ? {\n      background: \"#fff\",\n      color: \"#ff6c1a\"\n    } : {\n      background: \"transparent\",\n      color: \"#fff\"\n    },\n    className: \"btnicon_nav\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faBell\n  })), __jsx(\"span\", {\n    style: notes.view && notes.length > 0 ? {\n      color: \"#ff6c1a\"\n    } : {\n      color: \"#fff\"\n    }\n  }, \"+\", notes.items.length), __jsx(Popover, {\n    target: \"note\",\n    isOpen: pop,\n    placement: \"bottom\"\n  }, __jsx(PopoverBody, null, __jsx(\"ul\", {\n    onClick: handleViewOut\n  }, notes.items.map(function (item) {\n    return __jsx(\"li\", {\n      key: uuid()\n    }, item.id);\n  })))));\n};\n\nvar Friend = function Friend() {\n  var friend = useSelector(function (state) {\n    return state.nav.notifications.friendReq;\n  });\n  var dispatch = useDispatch();\n  var onView = useCallback(function () {\n    dispatch({\n      type: ON_VIEW_NAV,\n      note: navView.FRIEND\n    });\n  });\n\n  var _useState6 = useState(false),\n      pop = _useState6[0],\n      setPop = _useState6[1];\n\n  var handleView = function handleView() {\n    onView();\n    setPop(!pop);\n  };\n\n  var handleViewOut = function handleViewOut() {\n    setPop(false);\n  };\n\n  return __jsx(\"div\", {\n    className: \"btnicon_cont\"\n  }, __jsx(\"button\", {\n    id: \"friend\",\n    onClick: handleView,\n    style: friend.view && friend.length > 0 ? {\n      background: \"#fff\",\n      color: \"#ff6c1a\"\n    } : {\n      background: \"transparent\",\n      color: \"#fff\"\n    },\n    className: \"btnicon_nav\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faUser\n  })), __jsx(\"span\", {\n    style: friend.view && friend.length > 0 ? {\n      color: \"#ff6c1a\"\n    } : {\n      color: \"#fff\"\n    }\n  }, \"+\", friend.items.length), __jsx(Popover, {\n    target: \"friend\",\n    isOpen: pop,\n    placement: \"bottom\"\n  }, __jsx(PopoverBody, null, __jsx(\"ul\", {\n    onMouseLeave: handleViewOut\n  }, friend.items.map(function (item) {\n    return __jsx(\"li\", {\n      key: uuid()\n    }, item.id);\n  })))));\n};\n\nvar Option = function Option() {\n  var _useState7 = useState(false),\n      pop = _useState7[0],\n      setPop = _useState7[1];\n\n  return __jsx(\"div\", {\n    className: \"btnicon_cont\"\n  }, __jsx(\"button\", {\n    id: \"option\",\n    onClick: function onClick() {\n      return setPop(!pop);\n    },\n    className: \"btnicon_nav\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faCog\n  })), __jsx(Popover, {\n    target: \"option\",\n    isOpen: pop,\n    placement: \"bottom\"\n  }, __jsx(PopoverBody, {\n    style: {\n      padding: 0\n    }\n  }, __jsx(\"ul\", {\n    className: \"option_list\",\n    onMouseLeave: function onMouseLeave() {\n      return setPop(false);\n    }\n  }, __jsx(\"li\", null, __jsx(\"button\", null, \"perfil\")), __jsx(\"li\", null, __jsx(\"button\", null, \"salir\"))))));\n};\n\nvar Wallet = function Wallet() {\n  var wallet = useSelector(function (state) {\n    return state.nav.wallet;\n  });\n  return __jsx(\"div\", {\n    className: \"btnicon_cont\"\n  }, __jsx(\"p\", {\n    className: \"wallet_cont\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faCoins\n  })), __jsx(\"span\", {\n    style: {\n      fontSize: 16\n    }\n  }, \"+\", wallet));\n};\n\nvar Notifications = function Notifications() {\n  return __jsx(\"ul\", {\n    className: \"notifications_main_cont\"\n  }, __jsx(\"li\", null, __jsx(Gift, null)), __jsx(\"li\", null, __jsx(Note, null)), __jsx(\"li\", null, __jsx(Friend, null)), __jsx(\"li\", null, __jsx(Option, null)), __jsx(\"li\", null, __jsx(Wallet, null)));\n};\n\nvar BarLoader = function BarLoader() {\n  var loader = useSelector(function (state) {\n    return state.nav.loader;\n  });\n  var dispatch = useDispatch();\n  var onLoader = useCallback(function (loader) {\n    return dispatch({\n      type: ON_LOADER,\n      loader: loader\n    });\n  });\n  return __jsx(\"div\", {\n    className: \"barloader\",\n    style: {\n      width: \"\".concat(loader, \"%\")\n    }\n  });\n};\n\nvar Header = function Header() {\n  var nav = useSelector(function (state) {\n    return state.nav;\n  });\n\n  var _useState8 = useState(0),\n      width = _useState8[0],\n      setWidth = _useState8[1];\n\n  useEffect(function () {\n    setWidth(window.innerWidth);\n  }, []);\n  return __jsx(\"header\", {\n    className: \"header_main_cont\"\n  }, __jsx(BarLoader, null), __jsx(\"nav\", null, __jsx(DownBar, null), __jsx(\"div\", {\n    className: \"logo_search\"\n  }, __jsx(Logo, {\n    url: \"/\"\n  }), nav.login && width > 992 && __jsx(SearchBar, null)), !nav.login && __jsx(Link, {\n    href: \"/login\"\n  }, __jsx(\"button\", {\n    className: \"btn_login\"\n  }, \"login\")), nav.login && __jsx(Notifications, null)), width < 576 && __jsx(SearchBar, null));\n};\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}