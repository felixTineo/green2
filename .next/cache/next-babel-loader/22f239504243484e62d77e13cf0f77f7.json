{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport './home.scss';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ON_UPDATE } from '../../store/actions';\nimport { color } from '../../layout/var';\nimport axios from 'axios';\nimport uuid from 'uuid/v1';\n\nvar RecentPosts = function RecentPosts() {\n  var posts = useSelector(function (state) {\n    return state.user.posts;\n  }); //const recents = posts.slice(0, 5);\n\n  var foo = [1, 2, 3, 4, 5];\n  return __jsx(\"div\", {\n    className: \"recenposts_main_cont\"\n  }, __jsx(\"ul\", null, foo.map(function (post) {\n    return __jsx(\"li\", {\n      key: uuid()\n    }, __jsx(\"button\", {\n      title: \"Abrir\"\n    }, __jsx(\"img\", {\n      src: \"/static/random/r\".concat(Math.floor(Math.random() * 16 + 1), \".jpg\"),\n      alt: \"\"\n    })));\n  })));\n};\n\nvar HomeNav = function HomeNav() {\n  return __jsx(\"nav\", {\n    className: \"space_home_nav\"\n  }, __jsx(\"ul\", null, __jsx(\"li\", null, __jsx(\"button\", null, \"historia\")), __jsx(\"li\", null, __jsx(\"button\", null, \"intereses\")), __jsx(\"li\", null, __jsx(\"button\", null, \"deseos\"))));\n};\n\nvar History = function History() {\n  var user = useSelector(function (state) {\n    return state.user;\n  });\n  var cid = useSelector(function (state) {\n    return state.nav.notifications.id;\n  });\n\n  var _useState = useState(true),\n      disable = _useState[0],\n      setDisable = _useState[1];\n\n  var _useState2 = useState(''),\n      history = _useState2[0],\n      setHistory = _useState2[1];\n\n  var dispatch = useDispatch();\n  var isCurrent = user._id === cid ? true : false;\n  useEffect(function () {\n    setHistory(user.history);\n  }, [user]);\n\n  var onHistory =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setDisable(true);\n              _context.next = 4;\n              return axios.post('/user/update', {\n                key: 'history',\n                value: history\n              });\n\n            case 4:\n              res = _context.sent;\n              dispatch({\n                type: ON_UPDATE,\n                payload: {\n                  history: history\n                }\n              });\n              console.log(res.data);\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n\n    return function onHistory() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onCancel = function onCancel() {\n    setDisable(true);\n    setHistory(user.history);\n  };\n\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"884367452\", [color.dark, isCurrent && 'pointer', color.prim, color.prim, color.light, color.prim]]]) + \" \" + \"main\"\n  }, console.log(history), __jsx(\"textarea\", {\n    title: isCurrent && \"Agrega tu historia\",\n    onClick: isCurrent ? function () {\n      return setDisable(false);\n    } : null,\n    disable: disable,\n    value: history,\n    onChange: function onChange(e) {\n      return setHistory(e.currentTarget.value);\n    },\n    className: _JSXStyle.dynamic([[\"884367452\", [color.dark, isCurrent && 'pointer', color.prim, color.prim, color.light, color.prim]]])\n  }), isCurrent && !disable && __jsx(\"footer\", {\n    className: _JSXStyle.dynamic([[\"884367452\", [color.dark, isCurrent && 'pointer', color.prim, color.prim, color.light, color.prim]]])\n  }, __jsx(\"button\", {\n    onClick: onCancel,\n    className: _JSXStyle.dynamic([[\"884367452\", [color.dark, isCurrent && 'pointer', color.prim, color.prim, color.light, color.prim]]])\n  }, \"cancelar\"), __jsx(\"button\", {\n    onClick: onHistory,\n    className: _JSXStyle.dynamic([[\"884367452\", [color.dark, isCurrent && 'pointer', color.prim, color.prim, color.light, color.prim]]])\n  }, \"Enviar\")), __jsx(_JSXStyle, {\n    id: \"884367452\",\n    dynamic: [color.dark, isCurrent && 'pointer', color.prim, color.prim, color.light, color.prim]\n  }, \".main.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:50vh;padding-top:1rem;}textarea.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;resize:none;border:none;}textarea.__jsx-style-dynamic-selector:disable{color:\".concat(color.dark, \";}textarea.__jsx-style-dynamic-selector:hover{cursor:\").concat(isCurrent && 'pointer', \";}textarea.__jsx-style-dynamic-selector:focus{cursor:auto;outline:none;}footer.__jsx-style-dynamic-selector{text-align:right;}footer.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector{background:transparent;border:2px solid \").concat(color.prim, \";text-transform:uppercase;color:\").concat(color.prim, \";-webkit-transition:250ms ease;transition:250ms ease;}footer.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector:focus{outline:none;}footer.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector:hover{color:\").concat(color.light, \";background:\").concat(color.prim, \";}footer.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector:nth-child(2){margin-left:1rem;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZlbGl4L0RvY3VtZW50b3MvcHJvamVjdHMvZ3JlZW5saW5rL2NvbXBvbmVudHMvc3BhY2UvaG9tZS5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcUZnQixBQUdzQixBQU1ELEFBS3VCLEFBR0MsQUFHeEIsQUFJSyxBQUdNLEFBT1YsQUFHc0IsQUFJbEIsWUFwQkosQ0FjZixJQVZBLEFBaUJBLE1BZGdELEVBTmhELFVBUEEsQUF1QjBDLENBcEIxQyxpQ0FXMkIsRUFuQmIsR0FOVSxDQW1DeEIsUUE1QmMsV0FtQnVCLENBbEJyQyxrQ0FtQndCLHVCQTFCTixnQkFDQyxhQTBCbkIsSUF6QkEiLCJmaWxlIjoiL2hvbWUvZmVsaXgvRG9jdW1lbnRvcy9wcm9qZWN0cy9ncmVlbmxpbmsvY29tcG9uZW50cy9zcGFjZS9ob21lLmpzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuL2hvbWUuc2Nzcyc7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciwgdXNlRGlzcGF0Y2ggfSAgZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgT05fVVBEQVRFIH0gZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucyc7XG5pbXBvcnQgeyBjb2xvciB9IGZyb20gJy4uLy4uL2xheW91dC92YXInO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB1dWlkIGZyb20gJ3V1aWQvdjEnO1xuXG5jb25zdCBSZWNlbnRQb3N0cyA9ICgpID0+IHtcbiAgY29uc3QgcG9zdHMgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS51c2VyLnBvc3RzKTtcbiAgLy9jb25zdCByZWNlbnRzID0gcG9zdHMuc2xpY2UoMCwgNSk7XG4gIGNvbnN0IGZvbyA9IFsxLCAyLCAzLCA0LCA1XTtcbiAgcmV0dXJuKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjZW5wb3N0c19tYWluX2NvbnRcIj5cbiAgICAgIDx1bD5cbiAgICAgICAge1xuICAgICAgICAgIGZvby5tYXAocG9zdCA9PiAoXG4gICAgICAgICAgICA8bGkga2V5PXt1dWlkKCl9PlxuICAgICAgICAgICAgICA8YnV0dG9uIHRpdGxlPVwiQWJyaXJcIj48aW1nIHNyYz17YC9zdGF0aWMvcmFuZG9tL3Ike01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2ICsgMSl9LmpwZ2B9IGFsdD1cIlwiLz48L2J1dHRvbj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgKSlcbiAgICAgICAgfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKVxufTtcblxuXG5jb25zdCBIb21lTmF2ID0gKCkgPT4ge1xuXG4gIHJldHVybihcbiAgICA8bmF2IGNsYXNzTmFtZT1cInNwYWNlX2hvbWVfbmF2XCI+XG4gICAgICA8dWw+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uPmhpc3RvcmlhPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uPmludGVyZXNlczwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbj5kZXNlb3M8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgIDwvdWw+XG4gICAgPC9uYXY+XG4gIClcbn1cblxuY29uc3QgSGlzdG9yeSA9ICgpID0+IHtcbiAgY29uc3QgdXNlciA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLnVzZXIpO1xuICBjb25zdCBjaWQgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5uYXYubm90aWZpY2F0aW9ucy5pZCk7XG4gIGNvbnN0IFtkaXNhYmxlLCBzZXREaXNhYmxlXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbaGlzdG9yeSwgc2V0SGlzdG9yeV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgY29uc3QgaXNDdXJyZW50ID0gdXNlci5faWQgPT09IGNpZCA/IHRydWUgOiBmYWxzZTtcblxuICB1c2VFZmZlY3QoKCk9PiB7XG4gICAgc2V0SGlzdG9yeSh1c2VyLmhpc3RvcnkpO1xuICB9LFt1c2VyXSk7XG5cbiAgY29uc3Qgb25IaXN0b3J5ID0gYXN5bmMoKSA9PiB7XG4gICAgdHJ5e1xuICAgICAgc2V0RGlzYWJsZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLnBvc3QoJy91c2VyL3VwZGF0ZScsIHsga2V5OiAnaGlzdG9yeScsIHZhbHVlOiBoaXN0b3J5IH0pO1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBPTl9VUERBVEUsIHBheWxvYWQ6IHsgaGlzdG9yeSB9IH0pO1xuICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpO1xuICAgIH1jYXRjaChlKXtcbiAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuICB9XG4gIGNvbnN0IG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIHNldERpc2FibGUodHJ1ZSk7XG4gICAgc2V0SGlzdG9yeSh1c2VyLmhpc3RvcnkpO1xuICB9XG4gIHJldHVybihcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW5cIj5cbiAgICB7Y29uc29sZS5sb2coaGlzdG9yeSl9XG4gICAgICA8dGV4dGFyZWEgdGl0bGU9e2lzQ3VycmVudCAmJiBcIkFncmVnYSB0dSBoaXN0b3JpYVwifSBvbkNsaWNrPXtpc0N1cnJlbnQgPyAoKT0+IHNldERpc2FibGUoZmFsc2UpIDogbnVsbH0gZGlzYWJsZT17ZGlzYWJsZX0gdmFsdWU9e2hpc3Rvcnl9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0SGlzdG9yeShlLmN1cnJlbnRUYXJnZXQudmFsdWUpfSAvPlxuICAgICAge1xuICAgICAgICBpc0N1cnJlbnQgJiYgIWRpc2FibGUgJiYgKFxuICAgICAgICAgIDxmb290ZXI+XG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2FuY2VsfT5jYW5jZWxhcjwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkhpc3Rvcnl9PkVudmlhcjwvYnV0dG9uPlxuICAgICAgICAgIDwvZm9vdGVyPlxuICAgICAgICApXG4gICAgICB9XG4gICAgPHN0eWxlIGpzeD57YFxuICAgICAgLm1haW57XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIG1pbi1oZWlnaHQ6IDUwdmg7XG4gICAgICAgIHBhZGRpbmctdG9wOiAxcmVtO1xuICAgICAgfVxuICAgICAgdGV4dGFyZWF7XG4gICAgICAgIGZsZXgtZ3JvdzogMTtcbiAgICAgICAgcmVzaXplOiBub25lO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICB9XG4gICAgICB0ZXh0YXJlYTpkaXNhYmxle1xuICAgICAgICBjb2xvcjogJHtjb2xvci5kYXJrfTtcbiAgICAgIH1cbiAgICAgIHRleHRhcmVhOmhvdmVye1xuICAgICAgICBjdXJzb3I6ICR7aXNDdXJyZW50ICYmICdwb2ludGVyJ307XG4gICAgICB9XG4gICAgICB0ZXh0YXJlYTpmb2N1c3tcbiAgICAgICAgY3Vyc29yOiBhdXRvO1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgfVxuICAgICAgZm9vdGVye1xuICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICAgIH1cbiAgICAgIGZvb3RlciBidXR0b257XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAke2NvbG9yLnByaW19O1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgICBjb2xvcjogJHtjb2xvci5wcmltfTtcbiAgICAgICAgdHJhbnNpdGlvbjogMjUwbXMgZWFzZTtcbiAgICAgIH1cbiAgICAgIGZvb3RlciBidXR0b246Zm9jdXN7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICB9XG4gICAgICBmb290ZXIgYnV0dG9uOmhvdmVye1xuICAgICAgICBjb2xvcjogJHtjb2xvci5saWdodH07XG4gICAgICAgIGJhY2tncm91bmQ6ICR7Y29sb3IucHJpbX07XG4gICAgICB9XG4gICAgICBmb290ZXIgYnV0dG9uOm50aC1jaGlsZCgyKXtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDFyZW07XG4gICAgICB9XG4gICAgYH1cbiAgICA8L3N0eWxlPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmNvbnN0IEhvbWUgPSAoKSA9PiB7XG5cbiAgcmV0dXJuKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2Vob21lX21haW5fY29udFwiPlxuICAgICAgPGhlYWRlcj48aDE+PHNwYW4+cHVibGljYXNpb25lczwvc3Bhbj4gcmVjaWVudGVzPC9oMT48L2hlYWRlcj5cbiAgICAgIDxSZWNlbnRQb3N0cyAvPlxuICAgICAgPEhvbWVOYXYgLz5cbiAgICAgIDxIaXN0b3J5IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgSG9tZTtcbiJdfQ== */\\n/*@ sourceURL=/home/felix/Documentos/projects/greenlink/components/space/home.jsx */\")));\n};\n\nvar Home = function Home() {\n  return __jsx(\"div\", {\n    className: \"spacehome_main_cont\"\n  }, __jsx(\"header\", null, __jsx(\"h1\", null, __jsx(\"span\", null, \"publicasiones\"), \" recientes\")), __jsx(RecentPosts, null), __jsx(HomeNav, null), __jsx(History, null));\n};\n\nexport default Home;","map":{"version":3,"sources":["/home/felix/Documentos/projects/greenlink/components/space/home.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","ON_UPDATE","color","axios","uuid","RecentPosts","posts","state","user","foo","map","post","Math","floor","random","HomeNav","History","cid","nav","notifications","id","disable","setDisable","history","setHistory","dispatch","isCurrent","_id","onHistory","key","value","res","type","payload","console","log","data","onCancel","dark","prim","light","e","currentTarget","Home"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './home.scss';\nimport { useSelector, useDispatch }  from 'react-redux';\nimport { ON_UPDATE } from '../../store/actions';\nimport { color } from '../../layout/var';\nimport axios from 'axios';\nimport uuid from 'uuid/v1';\n\nconst RecentPosts = () => {\n  const posts = useSelector(state => state.user.posts);\n  //const recents = posts.slice(0, 5);\n  const foo = [1, 2, 3, 4, 5];\n  return(\n    <div className=\"recenposts_main_cont\">\n      <ul>\n        {\n          foo.map(post => (\n            <li key={uuid()}>\n              <button title=\"Abrir\"><img src={`/static/random/r${Math.floor(Math.random() * 16 + 1)}.jpg`} alt=\"\"/></button>\n            </li>\n          ))\n        }\n      </ul>\n    </div>\n  )\n};\n\n\nconst HomeNav = () => {\n\n  return(\n    <nav className=\"space_home_nav\">\n      <ul>\n        <li>\n          <button>historia</button>\n        </li>\n        <li>\n          <button>intereses</button>\n        </li>\n        <li>\n          <button>deseos</button>\n        </li>\n      </ul>\n    </nav>\n  )\n}\n\nconst History = () => {\n  const user = useSelector(state => state.user);\n  const cid = useSelector(state => state.nav.notifications.id);\n  const [disable, setDisable] = useState(true);\n  const [history, setHistory] = useState('');\n  const dispatch = useDispatch();\n  const isCurrent = user._id === cid ? true : false;\n\n  useEffect(()=> {\n    setHistory(user.history);\n  },[user]);\n\n  const onHistory = async() => {\n    try{\n      setDisable(true);\n      const res = await axios.post('/user/update', { key: 'history', value: history });\n      dispatch({ type: ON_UPDATE, payload: { history } });\n      console.log(res.data);\n    }catch(e){\n      console.log(e)\n    }\n  }\n  const onCancel = () => {\n    setDisable(true);\n    setHistory(user.history);\n  }\n  return(\n    <div className=\"main\">\n    {console.log(history)}\n      <textarea title={isCurrent && \"Agrega tu historia\"} onClick={isCurrent ? ()=> setDisable(false) : null} disable={disable} value={history} onChange={(e) => setHistory(e.currentTarget.value)} />\n      {\n        isCurrent && !disable && (\n          <footer>\n            <button onClick={onCancel}>cancelar</button>\n            <button onClick={onHistory}>Enviar</button>\n          </footer>\n        )\n      }\n    <style jsx>{`\n      .main{\n        display: flex;\n        flex-direction: column;\n        min-height: 50vh;\n        padding-top: 1rem;\n      }\n      textarea{\n        flex-grow: 1;\n        resize: none;\n        border: none;\n      }\n      textarea:disable{\n        color: ${color.dark};\n      }\n      textarea:hover{\n        cursor: ${isCurrent && 'pointer'};\n      }\n      textarea:focus{\n        cursor: auto;\n        outline: none;\n      }\n      footer{\n        text-align: right;\n      }\n      footer button{\n        background: transparent;\n        border: 2px solid ${color.prim};\n        text-transform: uppercase;\n        color: ${color.prim};\n        transition: 250ms ease;\n      }\n      footer button:focus{\n        outline: none;\n      }\n      footer button:hover{\n        color: ${color.light};\n        background: ${color.prim};\n      }\n      footer button:nth-child(2){\n        margin-left: 1rem;\n      }\n    `}\n    </style>\n    </div>\n  )\n}\n\nconst Home = () => {\n\n  return(\n    <div className=\"spacehome_main_cont\">\n      <header><h1><span>publicasiones</span> recientes</h1></header>\n      <RecentPosts />\n      <HomeNav />\n      <History />\n    </div>\n  )\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}