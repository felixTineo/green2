{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ON_STORE } from '../../store/actions';\nimport './wish.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGift } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\n\nvar Wish = function Wish() {\n  var wish = useSelector(function (state) {\n    return state.user.greenPost.wish;\n  });\n  var user = useSelector(function (state) {\n    return state.user;\n  });\n\n  var _useState = useState(0),\n      tip = _useState[0],\n      setTip = _useState[1];\n\n  var dispatch = useDispatch();\n  user.owner = true;\n\n  var onSubmit =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var data, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              data = {\n                tip: tip,\n                targetId: user._id\n              };\n              _context.next = 4;\n              return axios.post('/greenpost/tip', data);\n\n            case 4:\n              res = _context.sent;\n              console.log(res.data);\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function onSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: \"wish_main_cont animated fadeIn\"\n  }, console.log(wish), _Object$keys(wish).length < 0 && __jsx(\"div\", {\n    className: \"nowish_main_cont\"\n  }, __jsx(\"button\", {\n    onClick: function onClick() {\n      return dispatch({\n        type: ON_STORE\n      });\n    },\n    disabled: !user.owner\n  }, __jsx(FontAwesomeIcon, {\n    icon: faGift\n  }), user.owner ? __jsx(\"p\", null, \"Elige un deseo, podria concederse muy pronto.\") : __jsx(\"p\", null, user.name, \" aun no a elegido un deseo\"))), _Object$keys(wish).length > 0 && __jsx(\"div\", {\n    className: \"wish_cont shadow\"\n  }, __jsx(\"img\", {\n    src: wish.img,\n    alt: \"\"\n  }), __jsx(\"form\", null, __jsx(\"input\", {\n    value: tip > wish.price ? wish.price : tip,\n    onChange: function onChange(e) {\n      return setTip(e.currentTarget.value);\n    },\n    type: \"number\",\n    max: wish.price\n  }), __jsx(\"button\", {\n    type: \"submit\"\n  }, \"enviar\")), __jsx(\"div\", {\n    className: \"wish_loader_cont\"\n  }, __jsx(\"div\", {\n    className: \"wish_loader\"\n  })), __jsx(\"footer\", null, __jsx(\"p\", null, wish.name), __jsx(\"p\", null, \"$\", wish.price))));\n};\n\nexport default Wish;","map":{"version":3,"sources":["/home/felix/Documentos/projects/greenlink/components/greenpost/wish.jsx"],"names":["React","useState","useSelector","useDispatch","ON_STORE","FontAwesomeIcon","faGift","axios","Wish","wish","state","user","greenPost","tip","setTip","dispatch","owner","onSubmit","data","targetId","_id","post","res","console","log","length","type","name","img","price","e","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ON_STORE } from '../../store/actions';\nimport './wish.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGift } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\n\nconst Wish = () => {\n  const wish = useSelector(state => state.user.greenPost.wish);\n  const user = useSelector(state => state.user);\n  const [tip, setTip] = useState(0);\n  const dispatch = useDispatch();\n  user.owner = true;\n  const onSubmit = async() => {\n    try{\n      const data = {\n        tip,\n        targetId: user._id,\n      }\n      const res = await axios.post('/greenpost/tip', data);\n      console.log(res.data);\n    }catch(err){\n      console.log(err);\n    }\n  }\n  return(\n    <div className=\"wish_main_cont animated fadeIn\">\n      {console.log(wish)}\n      {\n        Object.keys(wish).length < 0 && (\n          <div className=\"nowish_main_cont\">\n            <button onClick={()=> dispatch({ type: ON_STORE })} disabled={!user.owner}>\n              <FontAwesomeIcon icon={faGift} />\n              {\n                user.owner\n                  ? <p>Elige un deseo, podria concederse muy pronto.</p>\n                  : <p>{user.name} aun no a elegido un deseo</p>\n              }\n            </button>\n          </div>\n        )\n      }\n      {\n        Object.keys(wish).length > 0 && (\n          <div className=\"wish_cont shadow\">\n            <img src={wish.img} alt=\"\"/>\n            <form>\n              <input value={tip > wish.price ? wish.price : tip} onChange={(e)=> setTip(e.currentTarget.value)} type=\"number\" max={wish.price}/>\n              <button type=\"submit\">enviar</button>\n            </form>\n            <div className=\"wish_loader_cont\">\n              <div\n                className=\"wish_loader\"\n              />\n            </div>\n            <footer>\n              <p>{wish.name}</p>\n              <p>${wish.price}</p>\n            </footer>\n          </div>\n        )\n      }\n    </div>\n  );\n}\n\nexport default Wish;\n"]},"metadata":{},"sourceType":"module"}