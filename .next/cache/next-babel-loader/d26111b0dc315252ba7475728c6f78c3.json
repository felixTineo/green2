{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/felix/Documentos/projects/greenlink/components/postregister/postregister.jsx\";\nvar __jsx = React.createElement;\nimport React, { useReducer, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ON_POST_REGISTER, ON_GREEN_CREATOR, ON_UPDATE, ON_WALLET } from '../../store/actions';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\nimport { Modal } from 'reactstrap';\nimport './postregister.scss';\nimport Logo from '../layout/logo';\nimport axios from 'axios';\nimport Loader from '../loader/loader';\n\nconst BtnUpload = () => {\n  return __jsx(\"div\", {\n    className: \"btnUpload_main_cont\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    htmlFor: \"img\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"img_cont\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    src: \"\",\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }), __jsx(FontAwesomeIcon, {\n    icon: faUser,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  })), __jsx(\"input\", {\n    id: \"img\",\n    name: \"img\",\n    type: \"file\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  })));\n};\n\nconst Welcome = () => {\n  return __jsx(\"div\", {\n    className: \"welcome_main_cont\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"Bienvenido a \", __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"Greenlink!\")), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Completa el registro agregando informacion adicional y creando tu primer \", __jsx(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"GreenPost,\"), \" de esta manera podras ser encontrado por otros usuarios ademas de recibir obsequios. Recuerda, mietras mas preciso seas mas facil sera que tus seres queridos contacten contigo.\"));\n};\n\nconst Congratulations = () => {\n  const user = useSelector(state => state.user);\n  return __jsx(\"div\", {\n    className: \"welcome_main_cont\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Felicidades \", user.name), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"No olvides crear tu primer\", __jsx(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"GreenPost,\")));\n};\n\nconst UserInfo = ({\n  values,\n  setValues,\n  onImg\n}) => {\n  const user = useSelector(state => state.user);\n  return __jsx(\"div\", {\n    className: \"user_postregister_cont\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    htmlFor: \"perfilImg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, !values.perfilImgFrontEnd && __jsx(FontAwesomeIcon, {\n    icon: faUser,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), values.perfilImgFrontEnd && __jsx(\"img\", {\n    src: values.perfilImgFrontEnd,\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    onChange: onImg,\n    type: \"file\",\n    name: \"perfilImg\",\n    id: \"perfilImg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Elige una foto de perfil\"), user.name === 'Green' && __jsx(React.Fragment, null, __jsx(\"input\", {\n    value: values.name,\n    onChange: e => setValues({\n      name: e.currentTarget.value\n    }),\n    placeholder: \"Nombre\",\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    value: values.lastName,\n    onChange: e => setValues({\n      lastName: e.currentTarget.value\n    }),\n    placeholder: \"Apellido\",\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"birth_sex_main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Cumplea\\xF1os\"), __jsx(\"input\", {\n    type: \"date\",\n    value: values.birthday,\n    onChange: e => setValues({\n      birthday: e.currentTarget.value\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"birthday_sex\",\n    style: {\n      marginLeft: '1rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Sexo\"), __jsx(\"select\", {\n    onChange: e => setValues({\n      sex: e.currentTarget.value\n    }),\n    name: \"sex\",\n    id: \"sex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, __jsx(\"option\", {\n    value: \"female\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Mujer\"), __jsx(\"option\", {\n    value: \"male\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Hombre\"), __jsx(\"option\", {\n    value: \"otro\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Otro\"))))));\n};\n\nconst PostRegister = () => {\n  const dispatch = useDispatch();\n  const {\n    0: values,\n    1: setValues\n  } = useReducer((state, next) => _objectSpread({}, state, next), {\n    name: '',\n    lastName: '',\n    birthday: '',\n    sex: '',\n    perfilImgFrontEnd: '',\n    perfilImg: ''\n  });\n  const user = useSelector(state => state.user);\n\n  const onImg = e => {\n    const img = e.target.files[0];\n    const reader = new FileReader();\n\n    reader.onloadend = () => {\n      if (reader.result) {\n        setValues({\n          perfilImgFrontEnd: reader.result,\n          perfilImg: img\n        });\n      } else {\n        setValues({\n          perfilImgFrontEnd: null,\n          perfilImg: null\n        });\n      }\n    };\n\n    reader.readAsDataURL(img);\n  };\n\n  const {\n    0: section,\n    1: setSection\n  } = useReducer((state, next) => _objectSpread({}, state, next), {\n    welcome: true,\n    info: false,\n    loader: false,\n    congratulations: false\n  });\n  const visible = useSelector(state => state.postregister);\n\n  const onSubmit = async () => {\n    try {\n      const {\n        name,\n        lastName,\n        birthday,\n        sex,\n        perfilImg\n      } = values;\n      const data = new FormData();\n      setSection({\n        info: false,\n        loader: true\n      });\n\n      if (user.name === 'Green') {\n        data.append('name', name);\n        data.append('lastName', lastName);\n        data.append('birthday', birthday);\n        data.append('sex', sex);\n      }\n\n      data.append('perfilImg', perfilImg);\n      const res = await axios.post('/user/postregister', data);\n      dispatch({\n        type: ON_UPDATE,\n        payload: res.data\n      });\n      dispatch({\n        type: ON_WALLET,\n        coin: 50\n      });\n      setSection({\n        loader: false,\n        congratulations: true\n      });\n      setTimeout(() => {\n        dispatch({\n          type: ON_POST_REGISTER\n        });\n      }, 3000);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return __jsx(Modal, {\n    className: \"my_modal\",\n    isOpen: visible,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"postregister_main_cont\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, __jsx(\"header\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, __jsx(Logo, {\n    dark: true,\n    url: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, section.welcome && __jsx(Welcome, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }), section.info && __jsx(UserInfo, {\n    values: values,\n    setValues: setValues,\n    onImg: onImg,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }), section.loader && __jsx(Loader, {\n    dark: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }), section.congratulations && __jsx(Congratulations, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  })), __jsx(\"footer\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, section.welcome && __jsx(\"button\", {\n    onClick: () => setSection({\n      welcome: false,\n      info: true\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, \"siguiente\"), section.info && __jsx(\"button\", {\n    onClick: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, \"enviar\"))));\n};\n\nexport default PostRegister;","map":{"version":3,"sources":["/home/felix/Documentos/projects/greenlink/components/postregister/postregister.jsx"],"names":["React","useReducer","useState","useSelector","useDispatch","ON_POST_REGISTER","ON_GREEN_CREATOR","ON_UPDATE","ON_WALLET","FontAwesomeIcon","faUser","Modal","Logo","axios","Loader","BtnUpload","Welcome","Congratulations","user","state","name","UserInfo","values","setValues","onImg","perfilImgFrontEnd","e","currentTarget","value","lastName","birthday","marginLeft","sex","PostRegister","dispatch","next","perfilImg","img","target","files","reader","FileReader","onloadend","result","readAsDataURL","section","setSection","welcome","info","loader","congratulations","visible","postregister","onSubmit","data","FormData","append","res","post","type","payload","coin","setTimeout","err","console","log"],"mappings":"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","sourcesContent":["import React, { useReducer, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ON_POST_REGISTER, ON_GREEN_CREATOR, ON_UPDATE, ON_WALLET } from '../../store/actions';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\nimport { Modal } from 'reactstrap';\nimport './postregister.scss';\nimport Logo from '../layout/logo';\nimport axios from 'axios';\nimport Loader from '../loader/loader';\n\n\nconst BtnUpload = () => {\n\n  return(\n    <div className=\"btnUpload_main_cont\">\n      <label htmlFor=\"img\">\n        <div className=\"img_cont\">\n          <img src=\"\" alt=\"\"/>\n          <FontAwesomeIcon icon={faUser} />\n        </div>\n        <input id=\"img\" name=\"img\" type=\"file\"/>\n      </label>\n    </div>\n  )\n};\n\nconst Welcome = () => {\n\n  return(\n    <div className=\"welcome_main_cont\">\n      <h1>Bienvenido a <span>Greenlink!</span></h1>\n      <p>Completa el registro agregando informacion adicional y creando tu primer <strong>GreenPost,</strong> de esta manera podras ser encontrado por otros usuarios ademas de recibir obsequios. Recuerda, mietras mas preciso seas mas facil sera que tus seres queridos contacten contigo.</p>\n    </div>\n  )\n};\n\nconst Congratulations = () => {\n  const user = useSelector(state => state.user);\n  return(\n    <div className=\"welcome_main_cont\">\n      <h1>Felicidades {user.name}</h1>\n      <p>No olvides crear tu primer<strong>GreenPost,</strong></p>\n    </div>\n  )\n};\n\nconst UserInfo = ({ values, setValues, onImg }) => {\n  const user = useSelector(state => state.user);\n  return(\n    <div className=\"user_postregister_cont\">\n      <label htmlFor=\"perfilImg\">\n        {\n          !values.perfilImgFrontEnd && <FontAwesomeIcon icon={faUser} />\n        }\n        {\n          values.perfilImgFrontEnd && <img src={values.perfilImgFrontEnd} alt=\"\"/>\n        }\n        <input onChange={onImg} type=\"file\" name=\"perfilImg\" id=\"perfilImg\"/>\n      </label>\n      <p>Elige una foto de perfil</p>\n      {\n        user.name === 'Green' && (\n          <>\n          <input value={values.name} onChange={(e)=> setValues({ name: e.currentTarget.value })} placeholder=\"Nombre\" type=\"text\"/>\n          <input value={values.lastName} onChange={(e)=> setValues({ lastName: e.currentTarget.value })} placeholder=\"Apellido\" type=\"text\"/>\n          <div className=\"birth_sex_main\">\n              <p>Cumpleaños</p>\n              <input\n                type=\"date\"\n                value={values.birthday}\n                onChange={(e)=> setValues({ birthday: e.currentTarget.value })}\n              />\n            <div className=\"birthday_sex\" style={{ marginLeft: '1rem' }}>\n              <p>Sexo</p>\n              <select onChange={(e)=> setValues({ sex: e.currentTarget.value })} name=\"sex\" id=\"sex\">\n                <option value=\"female\">Mujer</option>\n                <option value=\"male\">Hombre</option>\n                <option value=\"otro\">Otro</option>\n              </select>\n            </div>\n          </div>\n          </>\n        )\n      }\n    </div>\n  )\n};\n\nconst PostRegister = () =>{\nconst dispatch = useDispatch();\nconst [values, setValues] = useReducer((state, next) => ({ ...state, ...next }),{\n  name: '',\n  lastName: '',\n  birthday: '',\n  sex: '',\n  perfilImgFrontEnd:'',\n  perfilImg: '',\n});\nconst user = useSelector(state => state.user);\nconst onImg = (e) => {\n  const img = e.target.files[0];\n  const reader = new FileReader();\n  reader.onloadend = () => {\n    if(reader.result){\n      setValues({ perfilImgFrontEnd: reader.result, perfilImg: img });\n    } else {\n      setValues({ perfilImgFrontEnd: null, perfilImg: null });\n    }\n  }\n  reader.readAsDataURL(img);\n}\n\n  const [section, setSection] = useReducer((state, next) => ({ ...state, ...next }), {\n    welcome: true,\n    info: false,\n    loader: false,\n    congratulations: false,\n  })\n  const visible = useSelector(state => state.postregister);\n\n  const onSubmit = async() => {\n    try{\n      const { name, lastName, birthday, sex, perfilImg } = values;\n      const data = new FormData();\n      setSection({ info: false, loader: true });\n      if(user.name === 'Green'){\n        data.append('name', name);\n        data.append('lastName', lastName);\n        data.append('birthday', birthday);\n        data.append('sex', sex);\n      }\n      data.append('perfilImg', perfilImg);\n      const res = await axios.post('/user/postregister', data);\n      dispatch({ type: ON_UPDATE, payload: res.data });\n      dispatch({ type: ON_WALLET, coin: 50 });\n      setSection({ loader: false, congratulations: true });\n      setTimeout(()=> {\n        dispatch({ type: ON_POST_REGISTER });\n      }, 3000)\n    }catch(err){\n      console.log(err);\n    }\n  }\n\n  return(\n    <Modal className=\"my_modal\" isOpen={visible}>\n      <div className=\"postregister_main_cont\">\n        <header><Logo dark url=\"/\"/></header>\n        <div className=\"body\">\n          {\n            section.welcome && <Welcome />\n          }\n          {\n            section.info && <UserInfo values={values} setValues={setValues} onImg={onImg} />\n          }\n          {\n            section.loader && <Loader dark />\n          }\n          {\n            section.congratulations && <Congratulations />\n          }\n        </div>\n        <footer>\n          {\n            section.welcome && <button onClick={()=> setSection({ welcome: false, info: true })}>siguiente</button>\n          }\n          {\n            section.info && <button onClick={onSubmit}>enviar</button>\n          }\n        </footer>\n      </div>\n    </Modal>\n  )\n}\n\nexport default PostRegister;\n"]},"metadata":{},"sourceType":"module"}