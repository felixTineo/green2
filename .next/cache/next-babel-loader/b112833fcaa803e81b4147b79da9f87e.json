{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nvar __jsx = React.createElement;\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ON_STORE } from '../../store/actions';\nimport './wish.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGift } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\n\nconst Wish = () => {\n  const wish = useSelector(state => state.user.greenPost.wish);\n  const user = useSelector(state => state.user);\n  const {\n    0: tip,\n    1: setTip\n  } = useState(0);\n  const dispatch = useDispatch();\n  wish.found = 100;\n  const {\n    0: found,\n    1: setFound\n  } = useState(wish.found);\n  const inputTip = useRef();\n  user.owner = true;\n\n  const onSubmit = async e => {\n    try {\n      e.preventDefault();\n      const data = {\n        tip,\n        targetId: user._id\n      };\n      setFound(wish.found + _parseInt(tip, 10)); //const res = await axios.post('/greenpost/tip', data);\n      //console.log(res.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"wish_main_cont animated fadeIn\"\n  }, console.log(found), _Object$keys(wish).length < 0 && __jsx(\"div\", {\n    className: \"nowish_main_cont\"\n  }, __jsx(\"button\", {\n    onClick: () => dispatch({\n      type: ON_STORE\n    }),\n    disabled: !user.owner\n  }, __jsx(FontAwesomeIcon, {\n    icon: faGift\n  }), user.owner ? __jsx(\"p\", null, \"Elige un deseo, podria concederse muy pronto.\") : __jsx(\"p\", null, user.name, \" aun no a elegido un deseo\"))), _Object$keys(wish).length > 0 && __jsx(\"div\", {\n    className: \"wish_cont shadow\"\n  }, __jsx(\"img\", {\n    src: wish.img,\n    alt: \"\"\n  }), found !== wish.price && __jsx(\"form\", {\n    onSubmit: onSubmit\n  }, __jsx(\"input\", {\n    value: tip,\n    onChange: e => setTip(e.currentTarget.value > wish.price - found ? wish.price - found : e.currentTarget.value),\n    type: \"number\"\n  }), __jsx(\"button\", {\n    type: \"submit\"\n  }, \"enviar\")), __jsx(\"div\", {\n    className: \"wish_loader_cont\"\n  }, __jsx(\"div\", {\n    className: \"wish_loader\",\n    style: {\n      width: `${found * 100 / wish.price}%`\n    }\n  })), __jsx(\"footer\", null, __jsx(\"p\", null, wish.name), __jsx(\"p\", null, \"$\", wish.price))));\n};\n\nexport default Wish;","map":{"version":3,"sources":["/home/felix/Documentos/projects/greenlink/components/greenpost/wish.jsx"],"names":["React","useState","useRef","useEffect","useSelector","useDispatch","ON_STORE","FontAwesomeIcon","faGift","axios","Wish","wish","state","user","greenPost","tip","setTip","dispatch","found","setFound","inputTip","owner","onSubmit","e","preventDefault","data","targetId","_id","err","console","log","length","type","name","img","price","currentTarget","value","width"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,OAAO,aAAP;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,MAAT,QAAuB,mCAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,IAAI,GAAG,MAAM;AACjB,QAAMC,IAAI,GAAGP,WAAW,CAACQ,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWC,SAAX,CAAqBH,IAA/B,CAAxB;AACA,QAAME,IAAI,GAAGT,WAAW,CAACQ,KAAK,IAAIA,KAAK,CAACC,IAAhB,CAAxB;AACA,QAAM;AAAA,OAACE,GAAD;AAAA,OAAMC;AAAN,MAAgBf,QAAQ,CAAC,CAAD,CAA9B;AACA,QAAMgB,QAAQ,GAAGZ,WAAW,EAA5B;AACAM,EAAAA,IAAI,CAACO,KAAL,GAAa,GAAb;AACA,QAAM;AAAA,OAACA,KAAD;AAAA,OAAQC;AAAR,MAAoBlB,QAAQ,CAACU,IAAI,CAACO,KAAN,CAAlC;AACA,QAAME,QAAQ,GAAGlB,MAAM,EAAvB;AAEAW,EAAAA,IAAI,CAACQ,KAAL,GAAa,IAAb;;AACA,QAAMC,QAAQ,GAAG,MAAMC,CAAN,IAAY;AAC3B,QAAG;AACDA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMC,IAAI,GAAG;AACXV,QAAAA,GADW;AAEXW,QAAAA,QAAQ,EAAEb,IAAI,CAACc;AAFJ,OAAb;AAIER,MAAAA,QAAQ,CAACR,IAAI,CAACO,KAAL,GAAa,UAASH,GAAT,EAAc,EAAd,CAAd,CAAR,CAND,CAOD;AACA;AACD,KATD,CASC,OAAMa,GAAN,EAAU;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,GAbD;;AAcA,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGC,OAAO,CAACC,GAAR,CAAYZ,KAAZ,CADH,EAGI,aAAYP,IAAZ,EAAkBoB,MAAlB,GAA2B,CAA3B,IACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAQ,IAAA,OAAO,EAAE,MAAKd,QAAQ,CAAC;AAAEe,MAAAA,IAAI,EAAE1B;AAAR,KAAD,CAA9B;AAAoD,IAAA,QAAQ,EAAE,CAACO,IAAI,CAACQ;AAApE,KACE,MAAC,eAAD;AAAiB,IAAA,IAAI,EAAEb;AAAvB,IADF,EAGIK,IAAI,CAACQ,KAAL,GACI,iEADJ,GAEI,iBAAIR,IAAI,CAACoB,IAAT,+BALR,CADF,CAJN,EAiBI,aAAYtB,IAAZ,EAAkBoB,MAAlB,GAA2B,CAA3B,IACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAK,IAAA,GAAG,EAAEpB,IAAI,CAACuB,GAAf;AAAoB,IAAA,GAAG,EAAC;AAAxB,IADF,EAGIhB,KAAK,KAAKP,IAAI,CAACwB,KAAf,IACE;AAAM,IAAA,QAAQ,EAAEb;AAAhB,KACE;AAAO,IAAA,KAAK,EAAEP,GAAd;AAAmB,IAAA,QAAQ,EAAGQ,CAAD,IAAMP,MAAM,CAACO,CAAC,CAACa,aAAF,CAAgBC,KAAhB,GAAwB1B,IAAI,CAACwB,KAAL,GAAajB,KAArC,GAA6CP,IAAI,CAACwB,KAAL,GAAajB,KAA1D,GAAkEK,CAAC,CAACa,aAAF,CAAgBC,KAAnF,CAAzC;AAAoI,IAAA,IAAI,EAAC;AAAzI,IADF,EAEE;AAAQ,IAAA,IAAI,EAAC;AAAb,cAFF,CAJN,EAUE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AACE,IAAA,SAAS,EAAC,aADZ;AAEE,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAG,GAAGpB,KAAK,GAAG,GAAT,GAAcP,IAAI,CAACwB,KAAM;AAArC;AAFT,IADF,CAVF,EAgBE,sBACE,iBAAIxB,IAAI,CAACsB,IAAT,CADF,EAEE,sBAAKtB,IAAI,CAACwB,KAAV,CAFF,CAhBF,CAlBN,CADF;AA4CD,CApED;;AAsEA,eAAezB,IAAf","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ON_STORE } from '../../store/actions';\nimport './wish.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGift } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\n\nconst Wish = () => {\n  const wish = useSelector(state => state.user.greenPost.wish);\n  const user = useSelector(state => state.user);\n  const [tip, setTip] = useState(0);\n  const dispatch = useDispatch();\n  wish.found = 100;\n  const [found, setFound] = useState(wish.found);\n  const inputTip = useRef();\n\n  user.owner = true;\n  const onSubmit = async(e) => {\n    try{\n      e.preventDefault();\n      const data = {\n        tip,\n        targetId: user._id,\n      }\n        setFound(wish.found + parseInt(tip, 10));\n      //const res = await axios.post('/greenpost/tip', data);\n      //console.log(res.data);\n    }catch(err){\n      console.log(err);\n    }\n  }\n  return(\n    <div className=\"wish_main_cont animated fadeIn\">\n      {console.log(found)}\n      {\n        Object.keys(wish).length < 0 && (\n          <div className=\"nowish_main_cont\">\n            <button onClick={()=> dispatch({ type: ON_STORE })} disabled={!user.owner}>\n              <FontAwesomeIcon icon={faGift} />\n              {\n                user.owner\n                  ? <p>Elige un deseo, podria concederse muy pronto.</p>\n                  : <p>{user.name} aun no a elegido un deseo</p>\n              }\n            </button>\n          </div>\n        )\n      }\n      {\n        Object.keys(wish).length > 0 && (\n          <div className=\"wish_cont shadow\">\n            <img src={wish.img} alt=\"\"/>\n            {\n              found !== wish.price && (\n                <form onSubmit={onSubmit}>\n                  <input value={tip} onChange={(e)=> setTip(e.currentTarget.value > wish.price - found ? wish.price - found : e.currentTarget.value)} type=\"number\" />\n                  <button type=\"submit\">enviar</button>\n                </form>\n              )\n            }\n            <div className=\"wish_loader_cont\">\n              <div\n                className=\"wish_loader\"\n                style={{ width: `${(found * 100)/wish.price}%` }}\n              />\n            </div>\n            <footer>\n              <p>{wish.name}</p>\n              <p>${wish.price}</p>\n            </footer>\n          </div>\n        )\n      }\n    </div>\n  );\n}\n\nexport default Wish;\n"]},"metadata":{},"sourceType":"module"}