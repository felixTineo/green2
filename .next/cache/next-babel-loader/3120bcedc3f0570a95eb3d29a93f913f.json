{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { ON_LOADER } from '../../store/actions';\nimport Router from 'next/router';\nimport axios from 'axios';\n\nvar MyLink = function MyLink(_ref) {\n  var id = _ref.id,\n      children = _ref.children;\n  var dispatch = useDispatch();\n\n  var onLink =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var loader, interval, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              loader = 0;\n              interval = setInterval(function () {\n                loader += 15;\n                dispatch({\n                  type: ON_LOADER,\n                  loader: loader\n                });\n              }, 1000);\n\n              if (loader >= 75) {\n                dispatch({\n                  type: ON_LOADER,\n                  loader: 97\n                });\n                clearInterval(interval);\n              }\n\n              _context.prev = 3;\n              _context.next = 6;\n              return axios.get(\"/user/perfil/\".concat(id));\n\n            case 6:\n              res = _context.sent;\n              dispatch({\n                type: ON_LOADER,\n                loader: 100\n              });\n              clearInterval(interval);\n              res.data.greenPost = _JSON$stringify(res.data.greenPost);\n              Router.push({\n                pathname: \"/perfil\",\n                query: res.data\n              }, \"/perfil/\".concat(id), {\n                shallow: true\n              });\n              _context.next = 17;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](3);\n              console.log(_context.t0);\n              clearInterval(interval);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 13]]);\n    }));\n\n    return function onLink() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"button\", {\n    onClick: onLink,\n    type: \"button\",\n    className: \"jsx-2059577519\"\n  }, children, __jsx(_JSXStyle, {\n    id: \"2059577519\"\n  }, \"button.jsx-2059577519{background:transparent;border:none;padding:0;margin:0;outline:none;}button.jsx-2059577519:focus{outline:none;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZlbGl4L0RvY3VtZW50b3MvcHJvamVjdHMvZ3JlZW5saW5rL2NvbXBvbmVudHMvbXlsaW5rL2xpbmsuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlDa0IsQUFHb0MsQUFPVixhQUNmLFVBUGMsWUFDRixVQUNELFNBQ0ksYUFDZiIsImZpbGUiOiIvaG9tZS9mZWxpeC9Eb2N1bWVudG9zL3Byb2plY3RzL2dyZWVubGluay9jb21wb25lbnRzL215bGluay9saW5rLmpzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IE9OX0xPQURFUiB9IGZyb20gJy4uLy4uL3N0b3JlL2FjdGlvbnMnO1xuaW1wb3J0IFJvdXRlciBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5jb25zdCBNeUxpbmsgPSAoeyBpZCwgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IG9uTGluayA9IGFzeW5jKCkgPT4ge1xuICAgIGxldCBsb2FkZXIgPSAwO1xuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCk9PiB7XG4gICAgICBsb2FkZXIgKz0gMTU7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IE9OX0xPQURFUiwgbG9hZGVyIH0pO1xuICAgIH0sMTAwMCk7XG4gICAgaWYobG9hZGVyID49IDc1KXtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogT05fTE9BREVSLCBsb2FkZXI6IDk3IH0pO1xuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgfVxuICAgIHRyeXtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChgL3VzZXIvcGVyZmlsLyR7aWR9YCk7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IE9OX0xPQURFUiwgbG9hZGVyOiAxMDAgfSk7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgIHJlcy5kYXRhLmdyZWVuUG9zdCA9IEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLmdyZWVuUG9zdCk7XG4gICAgICBSb3V0ZXIucHVzaCh7cGF0aG5hbWU6IGAvcGVyZmlsYCwgcXVlcnk6IHJlcy5kYXRhfSwgYC9wZXJmaWwvJHtpZH1gLCB7IHNoYWxsb3c6IHRydWUgfSk7XG4gICAgfWNhdGNoKGVycil7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uIG9uQ2xpY2s9e29uTGlua30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAge2NoaWxkcmVufVxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgIGJ1dHRvbntcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1dHRvbjpmb2N1c3tcbiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgICAgfVxuICAgICAgICBgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8L2J1dHRvbj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBNeUxpbms7XG4iXX0= */\\n/*@ sourceURL=/home/felix/Documentos/projects/greenlink/components/mylink/link.jsx */\"));\n};\n\nexport default MyLink;","map":{"version":3,"sources":["/home/felix/Documentos/projects/greenlink/components/mylink/link.jsx"],"names":["React","useDispatch","ON_LOADER","Router","axios","MyLink","id","children","dispatch","onLink","loader","interval","setInterval","type","clearInterval","get","res","data","greenPost","push","pathname","query","shallow","console","log"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,SAAT,QAA0B,qBAA1B;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,OAAsB;AAAA,MAAnBC,EAAmB,QAAnBA,EAAmB;AAAA,MAAfC,QAAe,QAAfA,QAAe;AACnC,MAAMC,QAAQ,GAAGP,WAAW,EAA5B;;AACA,MAAMQ,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACTC,cAAAA,MADS,GACA,CADA;AAEPC,cAAAA,QAFO,GAEIC,WAAW,CAAC,YAAK;AAChCF,gBAAAA,MAAM,IAAI,EAAV;AACAF,gBAAAA,QAAQ,CAAC;AAAEK,kBAAAA,IAAI,EAAEX,SAAR;AAAmBQ,kBAAAA,MAAM,EAANA;AAAnB,iBAAD,CAAR;AACD,eAH2B,EAG1B,IAH0B,CAFf;;AAMb,kBAAGA,MAAM,IAAI,EAAb,EAAgB;AACdF,gBAAAA,QAAQ,CAAC;AAAEK,kBAAAA,IAAI,EAAEX,SAAR;AAAmBQ,kBAAAA,MAAM,EAAE;AAA3B,iBAAD,CAAR;AACAI,gBAAAA,aAAa,CAACH,QAAD,CAAb;AACD;;AATY;AAAA;AAAA,qBAWOP,KAAK,CAACW,GAAN,wBAA0BT,EAA1B,EAXP;;AAAA;AAWLU,cAAAA,GAXK;AAYXR,cAAAA,QAAQ,CAAC;AAAEK,gBAAAA,IAAI,EAAEX,SAAR;AAAmBQ,gBAAAA,MAAM,EAAE;AAA3B,eAAD,CAAR;AACAI,cAAAA,aAAa,CAACH,QAAD,CAAb;AACAK,cAAAA,GAAG,CAACC,IAAJ,CAASC,SAAT,GAAqB,gBAAeF,GAAG,CAACC,IAAJ,CAASC,SAAxB,CAArB;AACAf,cAAAA,MAAM,CAACgB,IAAP,CAAY;AAACC,gBAAAA,QAAQ,WAAT;AAAsBC,gBAAAA,KAAK,EAAEL,GAAG,CAACC;AAAjC,eAAZ,oBAA+DX,EAA/D,GAAqE;AAAEgB,gBAAAA,OAAO,EAAE;AAAX,eAArE;AAfW;AAAA;;AAAA;AAAA;AAAA;AAiBXC,cAAAA,OAAO,CAACC,GAAR;AACAV,cAAAA,aAAa,CAACH,QAAD,CAAb;;AAlBW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAANF,MAAM;AAAA;AAAA;AAAA,KAAZ;;AAsBA,SACE;AAAQ,IAAA,OAAO,EAAEA,MAAjB;AAAyB,IAAA,IAAI,EAAC,QAA9B;AAAA;AAAA,KACGF,QADH;AAAA;AAAA,y6EADF;AAkBD,CA1CD;;AA4CA,eAAeF,MAAf","sourcesContent":["import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { ON_LOADER } from '../../store/actions';\nimport Router from 'next/router';\nimport axios from 'axios';\n\nconst MyLink = ({ id, children }) => {\n  const dispatch = useDispatch();\n  const onLink = async() => {\n    let loader = 0;\n    const interval = setInterval(()=> {\n      loader += 15;\n      dispatch({ type: ON_LOADER, loader });\n    },1000);\n    if(loader >= 75){\n      dispatch({ type: ON_LOADER, loader: 97 });\n      clearInterval(interval);\n    }\n    try{\n      const res = await axios.get(`/user/perfil/${id}`);\n      dispatch({ type: ON_LOADER, loader: 100 });\n      clearInterval(interval);\n      res.data.greenPost = JSON.stringify(res.data.greenPost);\n      Router.push({pathname: `/perfil`, query: res.data}, `/perfil/${id}`, { shallow: true });\n    }catch(err){\n      console.log(err);\n      clearInterval(interval);\n    }\n  }\n\n  return (\n    <button onClick={onLink} type=\"button\">\n      {children}\n      <style jsx>{`\n          button{\n            background: transparent;\n            border: none;\n            padding: 0;\n            margin: 0;\n            outline: none;\n          }\n          button:focus{\n            outline: none;\n          }\n        `}\n      </style>\n    </button>\n  )\n}\n\nexport default MyLink;\n"]},"metadata":{},"sourceType":"module"}