{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport './home.scss';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ON_UPDATE } from '../../store/actions';\nimport { color } from '../../layout/var';\nimport axios from 'axios';\nimport uuid from 'uuid/v1';\n\nconst RecentPosts = () => {\n  const posts = useSelector(state => state.user.posts); //const recents = posts.slice(0, 5);\n\n  const foo = [1, 2, 3, 4, 5];\n  return __jsx(\"div\", {\n    className: \"recenposts_main_cont\"\n  }, __jsx(\"ul\", null, foo.map(post => __jsx(\"li\", {\n    key: uuid()\n  }, __jsx(\"button\", {\n    title: \"Abrir\"\n  }, __jsx(\"img\", {\n    src: `/static/random/r${Math.floor(Math.random() * 16 + 1)}.jpg`,\n    alt: \"\"\n  }))))));\n};\n\nconst HomeNav = () => {\n  return __jsx(\"nav\", {\n    className: \"space_home_nav\"\n  }, __jsx(\"ul\", null, __jsx(\"li\", null, __jsx(\"button\", null, \"historia\")), __jsx(\"li\", null, __jsx(\"button\", null, \"intereses\")), __jsx(\"li\", null, __jsx(\"button\", null, \"deseos\"))));\n};\n\nconst History = () => {\n  const user = useSelector(state => state.user);\n  const cid = useSelector(state => state.nav.notifications.id);\n  const {\n    0: disable,\n    1: setDisable\n  } = useState(true);\n  const {\n    0: history,\n    1: setHistory\n  } = useState('');\n  const dispatch = useDispatch();\n  const isCurrent = user._id === cid ? true : false;\n  useEffect(() => {\n    setHistory(user.history);\n  }, [user]);\n\n  const onHistory = async () => {\n    try {\n      setDisable(true);\n      const res = await axios.post('/user/update', {\n        key: 'history',\n        value: history\n      });\n      dispatch({\n        type: ON_UPDATE,\n        payload: {\n          history\n        }\n      });\n      console.log(res.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const onCancel = () => {\n    setDisable(true);\n    setHistory(user.history);\n  };\n\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"884367452\", [color.dark, isCurrent && 'pointer', color.prim, color.prim, color.light, color.prim]]]) + \" \" + \"main\"\n  }, console.log(history), __jsx(\"textarea\", {\n    title: isCurrent && \"Agrega tu historia\",\n    onClick: isCurrent ? () => setDisable(false) : null,\n    disable: disable,\n    value: history,\n    onChange: e => setHistory(e.currentTarget.value),\n    className: _JSXStyle.dynamic([[\"884367452\", [color.dark, isCurrent && 'pointer', color.prim, color.prim, color.light, color.prim]]])\n  }), isCurrent && !disable && __jsx(\"footer\", {\n    className: _JSXStyle.dynamic([[\"884367452\", [color.dark, isCurrent && 'pointer', color.prim, color.prim, color.light, color.prim]]])\n  }, __jsx(\"button\", {\n    onClick: onCancel,\n    className: _JSXStyle.dynamic([[\"884367452\", [color.dark, isCurrent && 'pointer', color.prim, color.prim, color.light, color.prim]]])\n  }, \"cancelar\"), __jsx(\"button\", {\n    onClick: onHistory,\n    className: _JSXStyle.dynamic([[\"884367452\", [color.dark, isCurrent && 'pointer', color.prim, color.prim, color.light, color.prim]]])\n  }, \"Enviar\")), __jsx(_JSXStyle, {\n    id: \"884367452\",\n    dynamic: [color.dark, isCurrent && 'pointer', color.prim, color.prim, color.light, color.prim]\n  }, [\".main.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:50vh;padding-top:1rem;}\", \"textarea.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;resize:none;border:none;}\", `textarea.__jsx-style-dynamic-selector:disable{color:${color.dark};}`, `textarea.__jsx-style-dynamic-selector:hover{cursor:${isCurrent && 'pointer'};}`, \"textarea.__jsx-style-dynamic-selector:focus{cursor:auto;outline:none;}\", \"footer.__jsx-style-dynamic-selector{text-align:right;}\", `footer.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector{background:transparent;border:2px solid ${color.prim};text-transform:uppercase;color:${color.prim};-webkit-transition:250ms ease;transition:250ms ease;}`, \"footer.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector:focus{outline:none;}\", `footer.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector:hover{color:${color.light};background:${color.prim};}`, \"footer.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector:nth-child(2){margin-left:1rem;}\"]));\n};\n\nconst Home = () => {\n  return __jsx(\"div\", {\n    className: \"spacehome_main_cont\"\n  }, __jsx(\"header\", null, __jsx(\"h1\", null, __jsx(\"span\", null, \"publicasiones\"), \" recientes\")), __jsx(RecentPosts, null), __jsx(HomeNav, null), __jsx(History, null));\n};\n\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}