{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useReducer, useRef } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ON_WALL_TOP, ON_WALL_POSTS, ON_STORE } from '../../store/actions';\nimport { color, font, size } from '../../layout/var';\nimport uuid from 'uuid/v1';\nimport axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faShare, faHome, faHeart, faGift, faComment, faExpandArrowsAlt } from '@fortawesome/free-solid-svg-icons'; //import './wall.scss';\n\nimport BtnPost from '../layout/btn-post';\nimport Creator from './creator';\n\nvar TopPost = function TopPost(_ref) {\n  var post = _ref.post;\n  var img = post.img,\n      author = post.author,\n      date = post.date,\n      likes = post.likes,\n      comments = post.comments,\n      gifts = post.gifts;\n  return __jsx(BtnPost, {\n    post: post\n  }, __jsx(\"button\", {\n    title: \"Abrir\",\n    className: _JSXStyle.dynamic([[\"3066086696\", [img, color.prim, color.prim]]])\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3066086696\", [img, color.prim, color.prim]]]) + \" \" + \"main\"\n  }, __jsx(\"header\", {\n    className: _JSXStyle.dynamic([[\"3066086696\", [img, color.prim, color.prim]]])\n  }, __jsx(\"small\", {\n    className: _JSXStyle.dynamic([[\"3066086696\", [img, color.prim, color.prim]]])\n  }, new Date(date).toLocaleDateString('en-EN')), __jsx(\"small\", {\n    className: _JSXStyle.dynamic([[\"3066086696\", [img, color.prim, color.prim]]])\n  }, new Date(date).toLocaleTimeString('en-EN'))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3066086696\", [img, color.prim, color.prim]]]) + \" \" + \"body\"\n  }, __jsx(\"img\", {\n    src: author.perfilImg,\n    alt: \"\",\n    className: _JSXStyle.dynamic([[\"3066086696\", [img, color.prim, color.prim]]])\n  }), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"3066086696\", [img, color.prim, color.prim]]])\n  }, author.fullName), __jsx(\"footer\", {\n    id: \"top_post_footer\",\n    className: _JSXStyle.dynamic([[\"3066086696\", [img, color.prim, color.prim]]])\n  }, __jsx(FontAwesomeIcon, {\n    width: \"30px\",\n    icon: faHeart\n  }), __jsx(\"small\", {\n    className: _JSXStyle.dynamic([[\"3066086696\", [img, color.prim, color.prim]]])\n  }, \" +\", likes.length)))), __jsx(_JSXStyle, {\n    id: \"3066086696\",\n    dynamic: [img, color.prim, color.prim]\n  }, [\"button.__jsx-style-dynamic-selector{height:20vw;width:20vw;border:none;background:url('\".concat(img, \"')top center no-repeat;background-size:cover;border-top:7px solid \").concat(color.prim, \";border-bottom:7px solid \").concat(color.prim, \";padding:0;color:#fff;margin:.4rem;}\"), \"div.main.__jsx-style-dynamic-selector{opacity:0;background:rgba(0,0,0,.5);width:100%;height:100%;-webkit-transition:250ms ease;transition:250ms ease;}\", \".main.__jsx-style-dynamic-selector:hover{opacity:1;}\", \"div.main.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{width:80px;height:80px;border-radius:50%;object-fit:cover;object-position:center;}\", \"header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;padding:0 .2rem;}\", \".body.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;}\", \".body.__jsx-style-dynamic-selector p.__jsx-style-dynamic-selector{margin:0;}\"])));\n};\n\nvar CommentList = function CommentList(_ref2) {\n  var comment = _ref2.comment,\n      perfilImg = _ref2.perfilImg,\n      fullName = _ref2.fullName;\n  return __jsx(\"li\", {\n    className: _JSXStyle.dynamic([[\"2799776266\", [color.prim, color.dark, color.dark, color.light]]]) + \" \" + \"shadow\"\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2799776266\", [color.prim, color.dark, color.dark, color.light]]])\n  }, __jsx(\"img\", {\n    src: perfilImg,\n    alt: \"\",\n    className: _JSXStyle.dynamic([[\"2799776266\", [color.prim, color.dark, color.dark, color.light]]])\n  }), __jsx(\"small\", {\n    className: _JSXStyle.dynamic([[\"2799776266\", [color.prim, color.dark, color.dark, color.light]]])\n  }, fullName)), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"2799776266\", [color.prim, color.dark, color.dark, color.light]]])\n  }, comment), __jsx(_JSXStyle, {\n    id: \"2799776266\",\n    dynamic: [color.prim, color.dark, color.dark, color.light]\n  }, [\"li.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:.5rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#fff;min-width:20%;border-left:5px solid \".concat(color.prim, \";color:\").concat(color.dark, \";margin-left:.5rem;}\"), \"p.__jsx-style-dynamic-selector{margin:0;padding:.3rem;}\", \"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:\".concat(color.dark, \";padding:.2rem;}\"), \"small.__jsx-style-dynamic-selector{margin-left:.2rem;color:\".concat(color.light, \";}\"), \"img.__jsx-style-dynamic-selector{width:25px;height:25px;border-radius:50%;object-fit:cover;object-position:center;}\"]));\n};\n\nvar Comments = function Comments(_ref3) {\n  var pComments = _ref3.pComments,\n      onSubmit = _ref3.onSubmit,\n      _onChange = _ref3.onChange,\n      comment = _ref3.comment;\n  var commentRef = useRef(null);\n  var commentsRef = useRef(null);\n  useEffect(function () {\n    commentRef.current.focus();\n    commentsRef.current.scrollTo(0, commentsRef.current.scrollHeight);\n  });\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"199868330\", [color.dark, color.light, color.light, color.light, color.prim]]]) + \" \" + \"animated fadeIn\"\n  }, __jsx(\"ul\", {\n    ref: commentsRef,\n    className: _JSXStyle.dynamic([[\"199868330\", [color.dark, color.light, color.light, color.light, color.prim]]])\n  }, pComments.map(function (comment) {\n    return __jsx(CommentList, _extends({\n      key: uuid()\n    }, comment));\n  })), __jsx(\"form\", {\n    onSubmit: onSubmit,\n    className: _JSXStyle.dynamic([[\"199868330\", [color.dark, color.light, color.light, color.light, color.prim]]])\n  }, __jsx(\"textarea\", {\n    onKeyDown: onSubmit,\n    ref: commentRef,\n    value: comment,\n    onChange: function onChange(e) {\n      return _onChange(e.currentTarget.value);\n    },\n    className: _JSXStyle.dynamic([[\"199868330\", [color.dark, color.light, color.light, color.light, color.prim]]])\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    className: _JSXStyle.dynamic([[\"199868330\", [color.dark, color.light, color.light, color.light, color.prim]]])\n  }, \"enviar\")), __jsx(_JSXStyle, {\n    id: \"199868330\",\n    dynamic: [color.dark, color.light, color.light, color.light, color.prim]\n  }, [\"div.__jsx-style-dynamic-selector{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;}\", \"ul.__jsx-style-dynamic-selector{list-style:none;margin:0;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow-y:scroll;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;height:100%;}\", \"ul.__jsx-style-dynamic-selector::-webkit-scrollbar{width:0;}\", \"form.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:\".concat(color.dark, \";padding:.5rem;}\"), \"textarea.__jsx-style-dynamic-selector{resize:none;margin:0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}\", \"form.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector{margin-left:.5rem;border:2px solid \".concat(color.light, \";color:\").concat(color.light, \";background:transparent;text-transform:capitalize;-webkit-transition:252ms ease;transition:252ms ease;}\"), \"form.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector:focus{outline:none;}\", \"form.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector:hover{color:\".concat(color.light, \";background:\").concat(color.prim, \";}\")]));\n};\n\nvar RecentPost = function RecentPost(_ref4) {\n  var post = _ref4.post;\n\n  var _useReducer = useReducer(function (state, next) {\n    return _objectSpread({}, state, next);\n  }, {\n    home: true,\n    comments: false\n  }),\n      section = _useReducer[0],\n      setSection = _useReducer[1];\n\n  var dispatch = useDispatch();\n  var img = post.img,\n      title = post.title,\n      subTitle = post.subTitle,\n      author = post.author,\n      likes = post.likes,\n      comments = post.comments,\n      gifts = post.gifts,\n      date = post.date,\n      history = post.history,\n      _id = post._id;\n  var cid = useSelector(function (state) {\n    return state.nav.notifications.id;\n  });\n  var targetId = useSelector(function (state) {\n    return state.user._id;\n  });\n\n  var _useState = useState(comments),\n      pComments = _useState[0],\n      setPcomments = _useState[1];\n\n  var _useState2 = useState(''),\n      comment = _useState2[0],\n      setComment = _useState2[1];\n\n  var onComment =\n  /*#__PURE__*/\n  function () {\n    var _ref5 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(e) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              if (!(e.keyCode === 13 && e.shiftKey === false)) {\n                _context.next = 8;\n                break;\n              }\n\n              e.preventDefault();\n              _context.next = 5;\n              return axios.post(\"/post/comment/add\", {\n                comment: comment,\n                pid: _id,\n                targetId: targetId\n              });\n\n            case 5:\n              res = _context.sent;\n              setComment('');\n              setPcomments([].concat(_toConsumableArray(pComments), [res.data]));\n\n            case 8:\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function onComment(_x) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var _useState3 = useState(likes),\n      like = _useState3[0],\n      setLike = _useState3[1];\n\n  var onLike =\n  /*#__PURE__*/\n  function () {\n    var _ref6 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.get(\"/post/like/\".concat(_id, \"/\").concat(targetId));\n\n            case 3:\n              res = _context2.sent;\n\n              if (res.data === 'dislike') {\n                setLike(likes.filter(function (like) {\n                  return likes._id === cid;\n                }));\n              } else {\n                setLike([].concat(_toConsumableArray(like), [res.data]));\n              }\n\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function onLike() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]]) + \" \" + \"main_cont\"\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]]) + \" \" + \"main\"\n  }, __jsx(\"header\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]]) + \" \" + \"user\"\n  }, __jsx(\"img\", {\n    src: author.perfilImg,\n    alt: \"\",\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }), __jsx(\"ul\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(\"li\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, author.fullName)), __jsx(\"li\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]]) + \" \" + \"date\"\n  }, __jsx(\"small\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, new Date(date).toLocaleDateString('es-ES')), __jsx(\"small\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, \" \", new Date(date).toLocaleTimeString('en-EN'))))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]]) + \" \" + \"info\"\n  }, __jsx(\"ul\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(\"li\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(FontAwesomeIcon, {\n    width: \"20\",\n    icon: faHeart\n  })), __jsx(\"small\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, \" +\", like.length)), __jsx(\"li\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(FontAwesomeIcon, {\n    width: \"20\",\n    icon: faComment\n  })), __jsx(\"small\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, \" +\", comments.length)), __jsx(\"li\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(FontAwesomeIcon, {\n    width: \"20\",\n    icon: faGift\n  })), __jsx(\"small\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, \" +\", gifts || 0))))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]]) + \" \" + \"body\"\n  }, section.home && __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(\"h1\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, title), __jsx(\"small\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, subTitle), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, history)), section.comments && __jsx(Comments, {\n    comment: comment,\n    onChange: setComment,\n    onSubmit: onComment,\n    pComments: pComments\n  })), __jsx(\"footer\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]]) + \" \" + \"footer_wall_post\"\n  }, __jsx(\"ul\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(\"li\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(\"button\", {\n    title: \"Publicasion\",\n    onClick: function onClick() {\n      return setSection({\n        home: true,\n        comments: false\n      });\n    },\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(FontAwesomeIcon, {\n    icon: faHome\n  }))), __jsx(\"li\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(\"button\", {\n    title: \"Reacionar\",\n    id: \"like\",\n    onClick: onLike,\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(FontAwesomeIcon, {\n    icon: faHeart\n  }))), __jsx(\"li\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(\"button\", {\n    title: \"Comentar\",\n    onClick: function onClick() {\n      return setSection({\n        home: false,\n        comments: true\n      });\n    },\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(FontAwesomeIcon, {\n    icon: faComment\n  }))), __jsx(\"li\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(\"button\", {\n    onClick: function onClick() {\n      return dispatch({\n        type: ON_STORE,\n        payload: {\n          type: 'common',\n          pid: _id\n        }\n      });\n    },\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(FontAwesomeIcon, {\n    icon: faGift\n  }))), __jsx(\"li\", {\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(BtnPost, {\n    post: post\n  }, __jsx(\"button\", {\n    title: \"Abrir Publicaci\\xF3n\",\n    className: _JSXStyle.dynamic([[\"863361452\", [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]]])\n  }, __jsx(FontAwesomeIcon, {\n    icon: faExpandArrowsAlt\n  }))))))), __jsx(_JSXStyle, {\n    id: \"863361452\",\n    dynamic: [color.prim, color.prim, img, color.light, font.text, color.dark, color.light, color.light, color.prim, like.find(function (like) {\n      return like._id === cid;\n    }) ? color.light : 'transparent', like.find(function (like) {\n      return like._id === cid;\n    }) ? color.prim : color.light]\n  }, [\".main_cont.__jsx-style-dynamic-selector{border-top:7px solid \".concat(color.prim, \";border-bottom:7px solid \").concat(color.prim, \";width:100%;height:50vw;background:url('\").concat(img, \"')top center no-repeat;background-size:cover;margin:1rem 0;color:\").concat(color.light, \";}\"), \".main.__jsx-style-dynamic-selector{background:linear-gradient(rgba(0,0,0,.4),transparent,rgba(0,0,0,.4))-55%,rgba(0,0,0,.3);width:100%;height:100%;-webkit-transition:250ms ease;transition:250ms ease;opacity:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;}\", \".main.__jsx-style-dynamic-selector:hover{opacity:1;}\", \"header.__jsx-style-dynamic-selector{padding:.5rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\", \"header.__jsx-style-dynamic-selector .user.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \"header.__jsx-style-dynamic-selector .user.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{width:4vw;height:4vw;border-radius:50%;object-fit:cover;object-position:center;}\", \"header.__jsx-style-dynamic-selector .user.__jsx-style-dynamic-selector ul.__jsx-style-dynamic-selector{list-style:none;margin:0;padding:0;margin-left:.5rem;}\", \"header.__jsx-style-dynamic-selector .user.__jsx-style-dynamic-selector ul.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector p.__jsx-style-dynamic-selector{margin:0;text-transform:capitalize;font-weight:550;}\", \"header.__jsx-style-dynamic-selector .info.__jsx-style-dynamic-selector ul.__jsx-style-dynamic-selector{list-style:none;margin:0;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\", \"header.__jsx-style-dynamic-selector .info.__jsx-style-dynamic-selector ul.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:.5rem;}\", \"header.__jsx-style-dynamic-selector .info.__jsx-style-dynamic-selector ul.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector p.__jsx-style-dynamic-selector{margin:0;margin-right:.2rem;}\", \".body.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;}\", \".body.__jsx-style-dynamic-selector div.__jsx-style-dynamic-selector{max-width:75%;}\", \".body.__jsx-style-dynamic-selector h1.__jsx-style-dynamic-selector{margin:0;font-family:\".concat(font.text, \";font-wright:550;}\"), \".body.__jsx-style-dynamic-selector p.__jsx-style-dynamic-selector{margin:.5rem 0;}\", \"footer.__jsx-style-dynamic-selector{padding:.5rem;background:\".concat(color.dark, \";width:100%;}\"), \"footer.__jsx-style-dynamic-selector ul.__jsx-style-dynamic-selector{width:100%;list-style:none;margin:0;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}\", \"footer.__jsx-style-dynamic-selector ul.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector{background:transparent;color:#fff;height:35px;width:35px;border:none;border:1px solid \".concat(color.light, \";border-radius:50%;-webkit-transition:250ms ease;transition:250ms ease;margin-left:.5rem;font-size:.5rem;}\"), \"footer.__jsx-style-dynamic-selector ul.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector:focus{outline:none;}\", \"footer.__jsx-style-dynamic-selector ul.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector:hover{background:\".concat(color.light, \" !important;color:\").concat(color.prim, \" !important;}\"), \"#like.__jsx-style-dynamic-selector{background:\".concat(like.find(function (like) {\n    return like._id === cid;\n  }) ? color.light : 'transparent', \";color:\").concat(like.find(function (like) {\n    return like._id === cid;\n  }) ? color.prim : color.light, \";}\")]));\n};\n\nvar Wall = function Wall() {\n  var wall = useSelector(function (state) {\n    return state.wall;\n  });\n  var space = useSelector(function (state) {\n    return state.space;\n  });\n  var dispatch = useDispatch();\n  var user = useSelector(function (state) {\n    return state.user;\n  });\n  var cid = useSelector(function (state) {\n    return state.nav.notifications.id;\n  });\n  var isFriend = user.friends.find(function (friend) {\n    return friend._id === cid;\n  });\n\n  var getPosts =\n  /*#__PURE__*/\n  function () {\n    var _ref7 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return axios.get('/post/posts/0');\n\n            case 3:\n              res = _context3.sent;\n              dispatch({\n                type: ON_WALL_POSTS,\n                posts: res.data\n              });\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log(_context3.t0);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n\n    return function getPosts() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getPosts();\n  }, []);\n  /**********************************************************************************************\n  ExtraÃ±o comportamiento del sort, el segundo useEffect es una especie de fix hecho por mi mismo.\n  **********************************************************************************************/\n\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]]) + \" \" + \"main\"\n  }, isFriend || user.owner && __jsx(React.Fragment, null, __jsx(\"h1\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]])\n  }, __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]])\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]])\n  }, \"Nuevo\"), \" Post\")), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]]) + \" \" + \"shadow\"\n  }, __jsx(Creator, null))), __jsx(\"h1\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]])\n  }, __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]])\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]])\n  }, \"publicasiones\"), \" top\")), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]]) + \" \" + \"top\"\n  }, __jsx(\"ul\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]])\n  }, wall.posts.sort(function (a, b) {\n    a = a.likes.length;\n    b = b.likes.length;\n    return a > b ? -1 : a < b ? 1 : 0;\n  }).slice(0, 3).map(function (post) {\n    return __jsx(\"li\", {\n      key: uuid(),\n      className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]])\n    }, __jsx(TopPost, {\n      post: post\n    }));\n  }))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]]) + \" \" + \"recent\"\n  }, __jsx(\"h1\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]])\n  }, __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]])\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]])\n  }, \"publicasiones\"), \" recientes\")), __jsx(\"ul\", {\n    className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]])\n  }, wall.posts.sort(function (a, b) {\n    a = a.date;\n    b = b.date;\n    return a > b ? -1 : a < b ? 1 : 0;\n  }).map(function (post) {\n    return __jsx(\"li\", {\n      key: uuid(),\n      className: _JSXStyle.dynamic([[\"3259253030\", [font.text, color.prim]]])\n    }, __jsx(RecentPost, {\n      post: post\n    }));\n  }))), __jsx(_JSXStyle, {\n    id: \"3259253030\",\n    dynamic: [font.text, color.prim]\n  }, [\".main.__jsx-style-dynamic-selector{min-height:90vh;}\", \"h1.__jsx-style-dynamic-selector{padding:.5rem;color:rgba(0,0,0,0.2);border-bottom:3px solid rgba(0,0,0,0.2);}\", \"h1.__jsx-style-dynamic-selector p.__jsx-style-dynamic-selector{margin:1rem 0 0;text-transform:uppercase;font-family:\".concat(font.text, \";font-weight:550;}\"), \"h1.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{color:\".concat(color.prim, \";}\"), \".top.__jsx-style-dynamic-selector ul.__jsx-style-dynamic-selector{margin:0;margin-top:1rem;list-style:none;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}\", \".recent.__jsx-style-dynamic-selector ul.__jsx-style-dynamic-selector{list-style:none;margin:0;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\"]));\n};\n\nexport default Wall;","map":null,"metadata":{},"sourceType":"module"}