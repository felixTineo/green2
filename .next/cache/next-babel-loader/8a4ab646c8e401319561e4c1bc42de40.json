{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUserPlus, faUserCheck, faUserClock, faHeart, faGift, faComment } from '@fortawesome/free-solid-svg-icons';\nimport './home.scss';\nimport axios from 'axios';\n\nconst GreenInfoIcon = ({\n  icon,\n  info\n}) => {\n  return __jsx(\"li\", {\n    className: \"greenicon_info_cont\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: icon\n  }), __jsx(\"p\", null, info));\n};\n\nconst BtnFriend = () => {\n  const user = useSelector(state => state.user);\n  const id = useSelector(state => state.nav.notifications.id);\n  const {\n    0: status,\n    1: setStatus\n  } = useState(0);\n\n  const sendFriend = async () => {\n    try {\n      await axios.get(`/friend/send/${user._id}`);\n      setStatus(1);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const acceptFriend = async () => {\n    try {\n      await axios.get(`/friend/accept/${user._id}`);\n      setStatus(0);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const cancelFriend = async () => {\n    try {\n      await axios.get(`/friend/cancel/${user._id}`);\n      setStatus(null);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    const friend = user.friends.find(friend => friend._id === id);\n    const status = friend ? friend.status : null;\n    setStatus(status);\n  }, [id]);\n\n  switch (status) {\n    case 0:\n      return __jsx(\"button\", {\n        onClick: cancelFriend,\n        type: \"button\",\n        title: \"Eliminar amigo\"\n      }, __jsx(FontAwesomeIcon, {\n        icon: faUserCheck\n      }));\n\n    case 1:\n      return __jsx(\"button\", {\n        onClick: cancelFriend,\n        type: \"button\",\n        title: \"Cancelar solicitud de amistad\"\n      }, __jsx(FontAwesomeIcon, {\n        icon: faUserClock\n      }));\n\n    case 2:\n      return __jsx(\"button\", {\n        onClick: acceptFriend,\n        type: \"button\",\n        title: \"Aceptar solicitud de amistad\"\n      }, \"Aceptar\");\n\n    default:\n      return __jsx(\"button\", {\n        onClick: sendFriend,\n        type: \"button\",\n        title: \"Enviar solicitud de amistad\"\n      }, __jsx(FontAwesomeIcon, {\n        icon: faUserPlus\n      }));\n  }\n};\n\nconst GreenHome = () => {\n  const user = useSelector(state => state.user);\n  const greenpost = useSelector(state => state.greenpost.current);\n  const {\n    name,\n    lastName,\n    perfilImg,\n    _id\n  } = user;\n  return __jsx(\"div\", {\n    className: \"greenhome_main_cont animated fadeIn\"\n  }, __jsx(\"div\", {\n    className: \"user_info\"\n  }, __jsx(\"img\", {\n    src: perfilImg,\n    alt: \"\"\n  }), __jsx(\"div\", {\n    className: \"user_name\"\n  }, __jsx(\"p\", null, __jsx(\"span\", null, name), \" \", lastName), !user.owner && __jsx(BtnFriend, null)), __jsx(\"ul\", null, __jsx(GreenInfoIcon, {\n    info: greenpost.likes.length,\n    icon: faHeart\n  }), __jsx(GreenInfoIcon, {\n    info: greenpost.comments.length,\n    icon: faComment\n  }), __jsx(GreenInfoIcon, {\n    info: greenpost.wish.found,\n    icon: faGift\n  })), __jsx(\"p\", null, user.greenPost.history)));\n};\n\nexport default GreenHome;","map":null,"metadata":{},"sourceType":"module"}